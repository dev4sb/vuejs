"use strict";var Pn=Object.defineProperty,Qn=Object.defineProperties;var An=Object.getOwnPropertyDescriptors;var Jt=Object.getOwnPropertySymbols;var jn=Object.prototype.hasOwnProperty,Vn=Object.prototype.propertyIsEnumerable;var Yt=(r,e,t)=>e in r?Pn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Xt=(r,e)=>{for(var t in e||(e={}))jn.call(e,t)&&Yt(r,t,e[t]);if(Jt)for(var t of Jt(e))Vn.call(e,t)&&Yt(r,t,e[t]);return r},Zt=(r,e)=>Qn(r,An(e));Object.defineProperty(exports,"__esModule",{value:!0});exports[Symbol.toStringTag]="Module";var x=require("graphql");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ge=function(r,e){return Ge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},Ge(r,e)};function L(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ge(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var p=function(){return p=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},p.apply(this,arguments)};function ee(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function K(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(f){try{u(n.next(f))}catch(l){o(l)}}function c(f){try{u(n.throw(f))}catch(l){o(l)}}function u(f){f.done?a(f.value):i(f.value).then(s,c)}u((n=n.apply(r,e||[])).next())})}function H(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){t.label=u[1];break}if(u[0]===6&&t.label<a[1]){t.label=a[1],a=u;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(u);break}a[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(f){u=[6,f],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function qe(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return r.concat(a||Array.prototype.slice.call(e))}var Ke="Invariant Violation",er=Object.setPrototypeOf,xn=er===void 0?function(r,e){return r.__proto__=e,r}:er,F=function(r){L(e,r);function e(t){t===void 0&&(t=Ke);var n=r.call(this,typeof t=="number"?Ke+": "+t+" (see https://github.com/apollographql/invariant-packages)":t)||this;return n.framesToPop=1,n.name=Ke,xn(n,e.prototype),n}return e}(Error);function g(r,e){if(!r)throw new F(e)}var tr=["debug","log","warn","error","silent"],In=tr.indexOf("log");function Re(r){return function(){if(tr.indexOf(r)>=In){var e=console[r]||console.log;return e.apply(console,arguments)}}}(function(r){r.debug=Re("debug"),r.log=Re("log"),r.warn=Re("warn"),r.error=Re("error")})(g||(g={}));function z(r){try{return r()}catch{}}var rr=z(function(){return globalThis})||z(function(){return window})||z(function(){return self})||z(function(){return global})||z(function(){return z.constructor("return this")()}),nr="__",ir=[nr,nr].join("DEV");function Ln(){try{return Boolean(__DEV__)}catch{return Object.defineProperty(rr,ir,{value:z(function(){return"production"})!=="production",enumerable:!1,configurable:!0,writable:!0}),rr[ir]}}var He=Ln();function U(r){try{return r()}catch{}}var Je=U(function(){return globalThis})||U(function(){return window})||U(function(){return self})||U(function(){return global})||U(function(){return U.constructor("return this")()}),Ye=!1;function Nn(){Je&&!U(function(){return"production"})&&!U(function(){return process})&&(Object.defineProperty(Je,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),Ye=!0)}Nn();function ar(){Ye&&(delete Je.process,Ye=!1)}function zn(){return typeof x.Source=="function",ar()}function Wn(){__DEV__?g(typeof He=="boolean",He):g(typeof He=="boolean",36)}zn();Wn();function Te(r,e){var t=r.directives;return!t||!t.length?!0:Gn(t).every(function(n){var i=n.directive,a=n.ifArgument,o=!1;return a.value.kind==="Variable"?(o=e&&e[a.value.name.value],__DEV__?g(o!==void 0,"Invalid variable referenced in @".concat(i.name.value," directive.")):g(o!==void 0,37)):o=a.value.value,i.name.value==="skip"?!o:o})}function Un(r){var e=[];return x.visit(r,{Directive:function(t){e.push(t.name.value)}}),e}function Xe(r,e){return Un(e).some(function(t){return r.indexOf(t)>-1})}function Bn(r){return r&&Xe(["client"],r)&&Xe(["export"],r)}function $n(r){var e=r.name.value;return e==="skip"||e==="include"}function Gn(r){var e=[];return r&&r.length&&r.forEach(function(t){if(!!$n(t)){var n=t.arguments,i=t.name.value;__DEV__?g(n&&n.length===1,"Incorrect number of arguments for the @".concat(i," directive.")):g(n&&n.length===1,38);var a=n[0];__DEV__?g(a.name&&a.name.value==="if","Invalid argument for the @".concat(i," directive.")):g(a.name&&a.name.value==="if",39);var o=a.value;__DEV__?g(o&&(o.kind==="Variable"||o.kind==="BooleanValue"),"Argument for the @".concat(i," directive must be a variable or a boolean value.")):g(o&&(o.kind==="Variable"||o.kind==="BooleanValue"),40),e.push({directive:t,ifArgument:a})}}),e}function Kn(r,e){var t=e,n=[];r.definitions.forEach(function(a){if(a.kind==="OperationDefinition")throw __DEV__?new F("Found a ".concat(a.operation," operation").concat(a.name?" named '".concat(a.name.value,"'"):"",". ")+"No operations are allowed when using a fragment as a query. Only fragments are allowed."):new F(41);a.kind==="FragmentDefinition"&&n.push(a)}),typeof t=="undefined"&&(__DEV__?g(n.length===1,"Found ".concat(n.length," fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")):g(n.length===1,42),t=n[0].name.value);var i=p(p({},r),{definitions:qe([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:t}}]}}],r.definitions,!0)});return i}function Me(r){r===void 0&&(r=[]);var e={};return r.forEach(function(t){e[t.name.value]=t}),e}function Ze(r,e){switch(r.kind){case"InlineFragment":return r;case"FragmentSpread":{var t=e&&e[r.name.value];return __DEV__?g(t,"No fragment named ".concat(r.name.value,".")):g(t,43),t}default:return null}}function T(r){return r!==null&&typeof r=="object"}function te(r){return{__ref:String(r)}}function D(r){return Boolean(r&&typeof r=="object"&&typeof r.__ref=="string")}function Hn(r){return T(r)&&r.kind==="Document"&&Array.isArray(r.definitions)}function Jn(r){return r.kind==="StringValue"}function Yn(r){return r.kind==="BooleanValue"}function Xn(r){return r.kind==="IntValue"}function Zn(r){return r.kind==="FloatValue"}function ei(r){return r.kind==="Variable"}function ti(r){return r.kind==="ObjectValue"}function ri(r){return r.kind==="ListValue"}function ni(r){return r.kind==="EnumValue"}function ii(r){return r.kind==="NullValue"}function re(r,e,t,n){if(Xn(t)||Zn(t))r[e.value]=Number(t.value);else if(Yn(t)||Jn(t))r[e.value]=t.value;else if(ti(t)){var i={};t.fields.map(function(o){return re(i,o.name,o.value,n)}),r[e.value]=i}else if(ei(t)){var a=(n||{})[t.name.value];r[e.value]=a}else if(ri(t))r[e.value]=t.values.map(function(o){var s={};return re(s,e,o,n),s[e.value]});else if(ni(t))r[e.value]=t.value;else if(ii(t))r[e.value]=null;else throw __DEV__?new F('The inline argument "'.concat(e.value,'" of kind "').concat(t.kind,'"')+"is not supported. Use variables instead of inline arguments to overcome this limitation."):new F(52)}function ai(r,e){var t=null;r.directives&&(t={},r.directives.forEach(function(i){t[i.name.value]={},i.arguments&&i.arguments.forEach(function(a){var o=a.name,s=a.value;return re(t[i.name.value],o,s,e)})}));var n=null;return r.arguments&&r.arguments.length&&(n={},r.arguments.forEach(function(i){var a=i.name,o=i.value;return re(n,a,o,e)})),et(r.name.value,n,t)}var oi=["connection","include","skip","client","rest","export"],et=Object.assign(function(r,e,t){if(e&&t&&t.connection&&t.connection.key)if(t.connection.filter&&t.connection.filter.length>0){var n=t.connection.filter?t.connection.filter:[];n.sort();var i={};return n.forEach(function(s){i[s]=e[s]}),"".concat(t.connection.key,"(").concat(fe(i),")")}else return t.connection.key;var a=r;if(e){var o=fe(e);a+="(".concat(o,")")}return t&&Object.keys(t).forEach(function(s){oi.indexOf(s)===-1&&(t[s]&&Object.keys(t[s]).length?a+="@".concat(s,"(").concat(fe(t[s]),")"):a+="@".concat(s))}),a},{setStringify:function(r){var e=fe;return fe=r,e}}),fe=function(e){return JSON.stringify(e,si)};function si(r,e){return T(e)&&!Array.isArray(e)&&(e=Object.keys(e).sort().reduce(function(t,n){return t[n]=e[n],t},{})),e}function Pe(r,e){if(r.arguments&&r.arguments.length){var t={};return r.arguments.forEach(function(n){var i=n.name,a=n.value;return re(t,i,a,e)}),t}return null}function J(r){return r.alias?r.alias.value:r.name.value}function tt(r,e,t){if(typeof r.__typename=="string")return r.__typename;for(var n=0,i=e.selections;n<i.length;n++){var a=i[n];if(W(a)){if(a.name.value==="__typename")return r[J(a)]}else{var o=tt(r,Ze(a,t).selectionSet,t);if(typeof o=="string")return o}}}function W(r){return r.kind==="Field"}function or(r){return r.kind==="InlineFragment"}function le(r){__DEV__?g(r&&r.kind==="Document",'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):g(r&&r.kind==="Document",44);var e=r.definitions.filter(function(t){return t.kind!=="FragmentDefinition"}).map(function(t){if(t.kind!=="OperationDefinition")throw __DEV__?new F('Schema type definitions not allowed in queries. Found: "'.concat(t.kind,'"')):new F(45);return t});return __DEV__?g(e.length<=1,"Ambiguous GraphQL document: contains ".concat(e.length," operations")):g(e.length<=1,46),r}function he(r){return le(r),r.definitions.filter(function(e){return e.kind==="OperationDefinition"})[0]}function rt(r){return r.definitions.filter(function(e){return e.kind==="OperationDefinition"&&e.name}).map(function(e){return e.name.value})[0]||null}function Qe(r){return r.definitions.filter(function(e){return e.kind==="FragmentDefinition"})}function sr(r){var e=he(r);return __DEV__?g(e&&e.operation==="query","Must contain a query definition."):g(e&&e.operation==="query",47),e}function ui(r){__DEV__?g(r.kind==="Document",'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):g(r.kind==="Document",48),__DEV__?g(r.definitions.length<=1,"Fragment must have exactly one definition."):g(r.definitions.length<=1,49);var e=r.definitions[0];return __DEV__?g(e.kind==="FragmentDefinition","Must be a fragment definition."):g(e.kind==="FragmentDefinition",50),e}function nt(r){le(r);for(var e,t=0,n=r.definitions;t<n.length;t++){var i=n[t];if(i.kind==="OperationDefinition"){var a=i.operation;if(a==="query"||a==="mutation"||a==="subscription")return i}i.kind==="FragmentDefinition"&&!e&&(e=i)}if(e)return e;throw __DEV__?new F("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new F(51)}function it(r){var e=Object.create(null),t=r&&r.variableDefinitions;return t&&t.length&&t.forEach(function(n){n.defaultValue&&re(e,n.variable.name,n.defaultValue)}),e}function ur(r,e,t){var n=0;return r.forEach(function(i,a){e.call(this,i,a,r)&&(r[n++]=i)},t),r.length=n,r}var cr={kind:"Field",name:{kind:"Name",value:"__typename"}};function fr(r,e){return r.selectionSet.selections.every(function(t){return t.kind==="FragmentSpread"&&fr(e[t.name.value],e)})}function at(r){return fr(he(r)||ui(r),Me(Qe(r)))?null:r}function lr(r){return function(t){return r.some(function(n){return n.name&&n.name===t.name.value||n.test&&n.test(t)})}}function hr(r,e){var t=Object.create(null),n=[],i=Object.create(null),a=[],o=at(x.visit(e,{Variable:{enter:function(s,c,u){u.kind!=="VariableDefinition"&&(t[s.name.value]=!0)}},Field:{enter:function(s){if(r&&s.directives){var c=r.some(function(u){return u.remove});if(c&&s.directives&&s.directives.some(lr(r)))return s.arguments&&s.arguments.forEach(function(u){u.value.kind==="Variable"&&n.push({name:u.value.name.value})}),s.selectionSet&&pr(s.selectionSet).forEach(function(u){a.push({name:u.name.value})}),null}}},FragmentSpread:{enter:function(s){i[s.name.value]=!0}},Directive:{enter:function(s){if(lr(r)(s))return null}}}));return o&&ur(n,function(s){return!!s.name&&!t[s.name]}).length&&(o=hi(n,o)),o&&ur(a,function(s){return!!s.name&&!i[s.name]}).length&&(o=pi(a,o)),o}var ot=Object.assign(function(r){return x.visit(le(r),{SelectionSet:{enter:function(e,t,n){if(!(n&&n.kind==="OperationDefinition")){var i=e.selections;if(!!i){var a=i.some(function(s){return W(s)&&(s.name.value==="__typename"||s.name.value.lastIndexOf("__",0)===0)});if(!a){var o=n;if(!(W(o)&&o.directives&&o.directives.some(function(s){return s.name.value==="export"})))return p(p({},e),{selections:qe(qe([],i,!0),[cr],!1)})}}}}}})},{added:function(r){return r===cr}}),ci={test:function(r){var e=r.name.value==="connection";return e&&(!r.arguments||!r.arguments.some(function(t){return t.name.value==="key"}))&&__DEV__&&g.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key."),e}};function fi(r){return hr([ci],le(r))}function li(r){return function(t){return r.some(function(n){return t.value&&t.value.kind==="Variable"&&t.value.name&&(n.name===t.value.name.value||n.test&&n.test(t))})}}function hi(r,e){var t=li(r);return at(x.visit(e,{OperationDefinition:{enter:function(n){return p(p({},n),{variableDefinitions:n.variableDefinitions?n.variableDefinitions.filter(function(i){return!r.some(function(a){return a.name===i.variable.name.value})}):[]})}},Field:{enter:function(n){var i=r.some(function(o){return o.remove});if(i){var a=0;if(n.arguments&&n.arguments.forEach(function(o){t(o)&&(a+=1)}),a===1)return null}}},Argument:{enter:function(n){if(t(n))return null}}}))}function pi(r,e){function t(n){if(r.some(function(i){return i.name===n.name.value}))return null}return at(x.visit(e,{FragmentSpread:{enter:t},FragmentDefinition:{enter:t}}))}function pr(r){var e=[];return r.selections.forEach(function(t){(W(t)||or(t))&&t.selectionSet?pr(t.selectionSet).forEach(function(n){return e.push(n)}):t.kind==="FragmentSpread"&&e.push(t)}),e}function vi(r){var e=nt(r),t=e.operation;if(t==="query")return r;var n=x.visit(r,{OperationDefinition:{enter:function(i){return p(p({},i),{operation:"query"})}}});return n}function di(r){le(r);var e=hr([{test:function(t){return t.name.value==="client"},remove:!0}],r);return e&&(e=x.visit(e,{FragmentDefinition:{enter:function(t){if(t.selectionSet){var n=t.selectionSet.selections.every(function(i){return W(i)&&i.name.value==="__typename"});if(n)return null}}}})),e}var yi=Object.prototype.hasOwnProperty;function vr(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return dr(r)}function dr(r){var e=r[0]||{},t=r.length;if(t>1)for(var n=new pe,i=1;i<t;++i)e=n.merge(e,r[i]);return e}var mi=function(r,e,t){return this.merge(r[t],e[t])},pe=function(){function r(e){e===void 0&&(e=mi),this.reconciler=e,this.isObject=T,this.pastCopies=new Set}return r.prototype.merge=function(e,t){for(var n=this,i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];return T(t)&&T(e)?(Object.keys(t).forEach(function(o){if(yi.call(e,o)){var s=e[o];if(t[o]!==s){var c=n.reconciler.apply(n,qe([e,t,o],i,!1));c!==s&&(e=n.shallowCopyForMerge(e),e[o]=c)}}else e=n.shallowCopyForMerge(e),e[o]=t[o]}),e):t},r.prototype.shallowCopyForMerge=function(e){if(T(e)){if(this.pastCopies.has(e)){if(!Object.isFrozen(e))return e;this.pastCopies.delete(e)}Array.isArray(e)?e=e.slice(0):e=p({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e)}return e},r}();function gi(r,e){var t=typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(t)return(t=t.call(r)).next.bind(t);if(Array.isArray(r)||(t=bi(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var n=0;return function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bi(r,e){if(!!r){if(typeof r=="string")return yr(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return yr(r,e)}}function yr(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function mr(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function st(r,e,t){return e&&mr(r.prototype,e),t&&mr(r,t),r}var ut=function(){return typeof Symbol=="function"},ct=function(r){return ut()&&Boolean(Symbol[r])},ft=function(r){return ct(r)?Symbol[r]:"@@"+r};ut()&&!ct("observable")&&(Symbol.observable=Symbol("observable"));var wi=ft("iterator"),lt=ft("observable"),gr=ft("species");function Ae(r,e){var t=r[e];if(t!=null){if(typeof t!="function")throw new TypeError(t+" is not a function");return t}}function ve(r){var e=r.constructor;return e!==void 0&&(e=e[gr],e===null&&(e=void 0)),e!==void 0?e:C}function _i(r){return r instanceof C}function ne(r){ne.log?ne.log(r):setTimeout(function(){throw r})}function je(r){Promise.resolve().then(function(){try{r()}catch(e){ne(e)}})}function br(r){var e=r._cleanup;if(e!==void 0&&(r._cleanup=void 0,!!e))try{if(typeof e=="function")e();else{var t=Ae(e,"unsubscribe");t&&t.call(e)}}catch(n){ne(n)}}function ht(r){r._observer=void 0,r._queue=void 0,r._state="closed"}function Si(r){var e=r._queue;if(!!e){r._queue=void 0,r._state="ready";for(var t=0;t<e.length&&(wr(r,e[t].type,e[t].value),r._state!=="closed");++t);}}function wr(r,e,t){r._state="running";var n=r._observer;try{var i=Ae(n,e);switch(e){case"next":i&&i.call(n,t);break;case"error":if(ht(r),i)i.call(n,t);else throw t;break;case"complete":ht(r),i&&i.call(n);break}}catch(a){ne(a)}r._state==="closed"?br(r):r._state==="running"&&(r._state="ready")}function pt(r,e,t){if(r._state!=="closed"){if(r._state==="buffering"){r._queue.push({type:e,value:t});return}if(r._state!=="ready"){r._state="buffering",r._queue=[{type:e,value:t}],je(function(){return Si(r)});return}wr(r,e,t)}}var Oi=function(){function r(t,n){this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var i=new Ei(this);try{this._cleanup=n.call(void 0,i)}catch(a){i.error(a)}this._state==="initializing"&&(this._state="ready")}var e=r.prototype;return e.unsubscribe=function(){this._state!=="closed"&&(ht(this),br(this))},st(r,[{key:"closed",get:function(){return this._state==="closed"}}]),r}(),Ei=function(){function r(t){this._subscription=t}var e=r.prototype;return e.next=function(n){pt(this._subscription,"next",n)},e.error=function(n){pt(this._subscription,"error",n)},e.complete=function(){pt(this._subscription,"complete")},st(r,[{key:"closed",get:function(){return this._subscription._state==="closed"}}]),r}(),C=function(){function r(t){if(!(this instanceof r))throw new TypeError("Observable cannot be called as a function");if(typeof t!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=t}var e=r.prototype;return e.subscribe=function(n){return(typeof n!="object"||n===null)&&(n={next:n,error:arguments[1],complete:arguments[2]}),new Oi(n,this._subscriber)},e.forEach=function(n){var i=this;return new Promise(function(a,o){if(typeof n!="function"){o(new TypeError(n+" is not a function"));return}function s(){c.unsubscribe(),a()}var c=i.subscribe({next:function(u){try{n(u,s)}catch(f){o(f),c.unsubscribe()}},error:o,complete:a})})},e.map=function(n){var i=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var a=ve(this);return new a(function(o){return i.subscribe({next:function(s){try{s=n(s)}catch(c){return o.error(c)}o.next(s)},error:function(s){o.error(s)},complete:function(){o.complete()}})})},e.filter=function(n){var i=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var a=ve(this);return new a(function(o){return i.subscribe({next:function(s){try{if(!n(s))return}catch(c){return o.error(c)}o.next(s)},error:function(s){o.error(s)},complete:function(){o.complete()}})})},e.reduce=function(n){var i=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var a=ve(this),o=arguments.length>1,s=!1,c=arguments[1],u=c;return new a(function(f){return i.subscribe({next:function(l){var h=!s;if(s=!0,!h||o)try{u=n(u,l)}catch(v){return f.error(v)}else u=l},error:function(l){f.error(l)},complete:function(){if(!s&&!o)return f.error(new TypeError("Cannot reduce an empty sequence"));f.next(u),f.complete()}})})},e.concat=function(){for(var n=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s=ve(this);return new s(function(c){var u,f=0;function l(h){u=h.subscribe({next:function(v){c.next(v)},error:function(v){c.error(v)},complete:function(){f===a.length?(u=void 0,c.complete()):l(s.from(a[f++]))}})}return l(n),function(){u&&(u.unsubscribe(),u=void 0)}})},e.flatMap=function(n){var i=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var a=ve(this);return new a(function(o){var s=[],c=i.subscribe({next:function(f){if(n)try{f=n(f)}catch(h){return o.error(h)}var l=a.from(f).subscribe({next:function(h){o.next(h)},error:function(h){o.error(h)},complete:function(){var h=s.indexOf(l);h>=0&&s.splice(h,1),u()}});s.push(l)},error:function(f){o.error(f)},complete:function(){u()}});function u(){c.closed&&s.length===0&&o.complete()}return function(){s.forEach(function(f){return f.unsubscribe()}),c.unsubscribe()}})},e[lt]=function(){return this},r.from=function(n){var i=typeof this=="function"?this:r;if(n==null)throw new TypeError(n+" is not an object");var a=Ae(n,lt);if(a){var o=a.call(n);if(Object(o)!==o)throw new TypeError(o+" is not an object");return _i(o)&&o.constructor===i?o:new i(function(s){return o.subscribe(s)})}if(ct("iterator")&&(a=Ae(n,wi),a))return new i(function(s){je(function(){if(!s.closed){for(var c=gi(a.call(n)),u;!(u=c()).done;){var f=u.value;if(s.next(f),s.closed)return}s.complete()}})});if(Array.isArray(n))return new i(function(s){je(function(){if(!s.closed){for(var c=0;c<n.length;++c)if(s.next(n[c]),s.closed)return;s.complete()}})});throw new TypeError(n+" is not observable")},r.of=function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=typeof this=="function"?this:r;return new o(function(s){je(function(){if(!s.closed){for(var c=0;c<i.length;++c)if(s.next(i[c]),s.closed)return;s.complete()}})})},st(r,null,[{key:gr,get:function(){return this}}]),r}();ut()&&Object.defineProperty(C,Symbol("extensions"),{value:{symbol:lt,hostReportError:ne},configurable:!0});function ki(r){var e,t=r.Symbol;if(typeof t=="function")if(t.observable)e=t.observable;else{typeof t.for=="function"?e=t.for("https://github.com/benlesh/symbol-observable"):e=t("https://github.com/benlesh/symbol-observable");try{t.observable=e}catch{}}else e="@@observable";return e}var ie;typeof self!="undefined"?ie=self:typeof window!="undefined"?ie=window:typeof global!="undefined"?ie=global:typeof module!="undefined"?ie=module:ie=Function("return this")();ki(ie);var _r=C.prototype,Sr="@@observable";_r[Sr]||(_r[Sr]=function(){return this});var Di=Object.prototype.toString;function Or(r){return vt(r)}function vt(r,e){switch(Di.call(r)){case"[object Array]":{if(e=e||new Map,e.has(r))return e.get(r);var t=r.slice(0);return e.set(r,t),t.forEach(function(i,a){t[a]=vt(i,e)}),t}case"[object Object]":{if(e=e||new Map,e.has(r))return e.get(r);var n=Object.create(Object.getPrototypeOf(r));return e.set(r,n),Object.keys(r).forEach(function(i){n[i]=vt(r[i],e)}),n}default:return r}}function Fi(r){var e=new Set([r]);return e.forEach(function(t){T(t)&&Ci(t)===t&&Object.getOwnPropertyNames(t).forEach(function(n){T(t[n])&&e.add(t[n])})}),r}function Ci(r){if(__DEV__&&!Object.isFrozen(r))try{Object.freeze(r)}catch(e){if(e instanceof TypeError)return null;throw e}return r}function dt(r){return __DEV__&&Fi(r),r}function de(r,e,t){var n=[];r.forEach(function(i){return i[e]&&n.push(i)}),n.forEach(function(i){return i[e](t)})}function yt(r,e,t){return new C(function(n){var i=n.next,a=n.error,o=n.complete,s=0,c=!1,u={then:function(v){return new Promise(function(y){return y(v())})}};function f(v,y){return v?function(d){++s;var m=function(){return v(d)};u=u.then(m,m).then(function(b){--s,i&&i.call(n,b),c&&l.complete()},function(b){throw--s,b}).catch(function(b){a&&a.call(n,b)})}:function(d){return y&&y.call(n,d)}}var l={next:f(e,i),error:f(t,a),complete:function(){c=!0,s||o&&o.call(n)}},h=r.subscribe(l);return function(){return h.unsubscribe()}})}var Y=typeof WeakMap=="function"&&!(typeof navigator=="object"&&navigator.product==="ReactNative"),qi=typeof WeakSet=="function",Ri=typeof Symbol=="function"&&typeof Symbol.for=="function";function Er(r){function e(t){Object.defineProperty(r,t,{value:C})}return Ri&&Symbol.species&&e(Symbol.species),e("@@species"),r}function kr(r){return r&&typeof r.then=="function"}var ye=function(r){L(e,r);function e(t){var n=r.call(this,function(i){return n.addObserver(i),function(){return n.removeObserver(i)}})||this;return n.observers=new Set,n.addCount=0,n.promise=new Promise(function(i,a){n.resolve=i,n.reject=a}),n.handlers={next:function(i){n.sub!==null&&(n.latest=["next",i],de(n.observers,"next",i))},error:function(i){var a=n.sub;a!==null&&(a&&setTimeout(function(){return a.unsubscribe()}),n.sub=null,n.latest=["error",i],n.reject(i),de(n.observers,"error",i))},complete:function(){if(n.sub!==null){var i=n.sources.shift();i?kr(i)?i.then(function(a){return n.sub=a.subscribe(n.handlers)}):n.sub=i.subscribe(n.handlers):(n.sub=null,n.latest&&n.latest[0]==="next"?n.resolve(n.latest[1]):n.resolve(),de(n.observers,"complete"))}}},n.cancel=function(i){n.reject(i),n.sources=[],n.handlers.complete()},n.promise.catch(function(i){}),typeof t=="function"&&(t=[new C(t)]),kr(t)?t.then(function(i){return n.start(i)},n.handlers.error):n.start(t),n}return e.prototype.start=function(t){this.sub===void 0&&(this.sources=Array.from(t),this.handlers.complete())},e.prototype.deliverLastMessage=function(t){if(this.latest){var n=this.latest[0],i=t[n];i&&i.call(t,this.latest[1]),this.sub===null&&n==="next"&&t.complete&&t.complete()}},e.prototype.addObserver=function(t){this.observers.has(t)||(this.deliverLastMessage(t),this.observers.add(t),++this.addCount)},e.prototype.removeObserver=function(t,n){this.observers.delete(t)&&--this.addCount<1&&!n&&this.handlers.error(new Error("Observable cancelled prematurely"))},e.prototype.cleanup=function(t){var n=this,i=!1,a=function(){i||(i=!0,n.observers.delete(o),t())},o={next:a,error:a,complete:a},s=this.addCount;this.addObserver(o),this.addCount=s},e}(C);Er(ye);function X(r){return Array.isArray(r)&&r.length>0}function Ve(r){return r.errors&&r.errors.length>0||!1}function me(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=Object.create(null);return r.forEach(function(n){!n||Object.keys(n).forEach(function(i){var a=n[i];a!==void 0&&(t[i]=a)})}),t}var Dr=new Map;function mt(r){var e=Dr.get(r)||1;return Dr.set(r,e+1),"".concat(r,":").concat(e,":").concat(Math.random().toString(36).slice(2))}function Ti(r){var e=mt("stringifyForDisplay");return JSON.stringify(r,function(t,n){return n===void 0?e:n}).split(JSON.stringify(e)).join("<undefined>")}function Fr(r){return new C(function(e){e.error(r)})}var Cr=function(r,e,t){var n=new Error(t);throw n.name="ServerError",n.response=r,n.statusCode=r.status,n.result=e,n};function Mi(r){for(var e=["query","operationName","variables","extensions","context"],t=0,n=Object.keys(r);t<n.length;t++){var i=n[t];if(e.indexOf(i)<0)throw __DEV__?new F("illegal argument: ".concat(i)):new F(24)}return r}function Pi(r,e){var t=p({},r),n=function(a){typeof a=="function"?t=p(p({},t),a(t)):t=p(p({},t),a)},i=function(){return p({},t)};return Object.defineProperty(e,"setContext",{enumerable:!1,value:n}),Object.defineProperty(e,"getContext",{enumerable:!1,value:i}),e}function Qi(r){var e={variables:r.variables||{},extensions:r.extensions||{},operationName:r.operationName,query:r.query};return e.operationName||(e.operationName=typeof e.query!="string"?rt(e.query)||void 0:""),e}function qr(r,e){return e?e(r):C.of()}function ge(r){return typeof r=="function"?new be(r):r}function xe(r){return r.request.length<=1}var Ai=function(r){L(e,r);function e(t,n){var i=r.call(this,t)||this;return i.link=n,i}return e}(Error),be=function(){function r(e){e&&(this.request=e)}return r.empty=function(){return new r(function(){return C.of()})},r.from=function(e){return e.length===0?r.empty():e.map(ge).reduce(function(t,n){return t.concat(n)})},r.split=function(e,t,n){var i=ge(t),a=ge(n||new r(qr));return xe(i)&&xe(a)?new r(function(o){return e(o)?i.request(o)||C.of():a.request(o)||C.of()}):new r(function(o,s){return e(o)?i.request(o,s)||C.of():a.request(o,s)||C.of()})},r.execute=function(e,t){return e.request(Pi(t.context,Qi(Mi(t))))||C.of()},r.concat=function(e,t){var n=ge(e);if(xe(n))return __DEV__&&g.warn(new Ai("You are calling concat on a terminating link, which will have no effect",n)),n;var i=ge(t);return xe(i)?new r(function(a){return n.request(a,function(o){return i.request(o)||C.of()})||C.of()}):new r(function(a,o){return n.request(a,function(s){return i.request(s,o)||C.of()})||C.of()})},r.prototype.split=function(e,t,n){return this.concat(r.split(e,t,n||new r(qr)))},r.prototype.concat=function(e){return r.concat(this,e)},r.prototype.request=function(e,t){throw __DEV__?new F("request is not implemented"):new F(19)},r.prototype.onError=function(e,t){if(t&&t.error)return t.error(e),!1;throw e},r.prototype.setOnError=function(e){return this.onError=e,this},r}(),gt=be.execute,ji="3.5.7",Rr=Object.prototype.hasOwnProperty;function Vi(r){return function(e){return e.text().then(function(t){try{return JSON.parse(t)}catch(i){var n=i;throw n.name="ServerParseError",n.response=e,n.statusCode=e.status,n.bodyText=t,n}}).then(function(t){return e.status>=300&&Cr(e,t,"Response not successful: Received status code ".concat(e.status)),!Array.isArray(t)&&!Rr.call(t,"data")&&!Rr.call(t,"errors")&&Cr(e,t,"Server response was missing for query '".concat(Array.isArray(r)?r.map(function(n){return n.operationName}):r.operationName,"'.")),t})}}var bt=function(r,e){var t;try{t=JSON.stringify(r)}catch(i){var n=__DEV__?new F("Network request failed. ".concat(e," is not serializable: ").concat(i.message)):new F(21);throw n.parseError=i,n}return t},xi={includeQuery:!0,includeExtensions:!1},Ii={accept:"*/*","content-type":"application/json"},Li={method:"POST"},Ni={http:xi,headers:Ii,options:Li},zi=function(r,e){return e(r)};function Wi(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var i={},a={};t.forEach(function(l){i=p(p(p({},i),l.options),{headers:p(p({},i.headers),Ui(l.headers))}),l.credentials&&(i.credentials=l.credentials),a=p(p({},a),l.http)});var o=r.operationName,s=r.extensions,c=r.variables,u=r.query,f={operationName:o,variables:c};return a.includeExtensions&&(f.extensions=s),a.includeQuery&&(f.query=e(u,x.print)),{options:i,body:f}}function Ui(r){if(r){var e=Object.create(null);return Object.keys(Object(r)).forEach(function(t){e[t.toLowerCase()]=r[t]}),e}return r}var Bi=function(r){if(!r&&typeof fetch=="undefined")throw __DEV__?new F(`
"fetch" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:

import fetch from 'cross-fetch';
import { ApolloClient, HttpLink } from '@apollo/client';
const client = new ApolloClient({
  link: new HttpLink({ uri: '/graphql', fetch })
});
    `):new F(20)},$i=function(){if(typeof AbortController=="undefined")return{controller:!1,signal:!1};var r=new AbortController,e=r.signal;return{controller:r,signal:e}},Gi=function(r,e){var t=r.getContext(),n=t.uri;return n||(typeof e=="function"?e(r):e||"/graphql")};function Ki(r,e){var t=[],n=function(l,h){t.push("".concat(l,"=").concat(encodeURIComponent(h)))};if("query"in e&&n("query",e.query),e.operationName&&n("operationName",e.operationName),e.variables){var i=void 0;try{i=bt(e.variables,"Variables map")}catch(l){return{parseError:l}}n("variables",i)}if(e.extensions){var a=void 0;try{a=bt(e.extensions,"Extensions map")}catch(l){return{parseError:l}}n("extensions",a)}var o="",s=r,c=r.indexOf("#");c!==-1&&(o=r.substr(c),s=r.substr(0,c));var u=s.indexOf("?")===-1?"?":"&",f=s+u+t.join("&")+o;return{newURI:f}}var Tr=z(function(){return fetch}),Hi=function(r){r===void 0&&(r={});var e=r.uri,t=e===void 0?"/graphql":e,n=r.fetch,i=r.print,a=i===void 0?zi:i,o=r.includeExtensions,s=r.useGETForQueries,c=r.includeUnusedVariables,u=c===void 0?!1:c,f=ee(r,["uri","fetch","print","includeExtensions","useGETForQueries","includeUnusedVariables"]);__DEV__&&Bi(n||Tr);var l={http:{includeExtensions:o},options:f.fetchOptions,credentials:f.credentials,headers:f.headers};return new be(function(h){var v=Gi(h,t),y=h.getContext(),d={};if(y.clientAwareness){var m=y.clientAwareness,b=m.name,S=m.version;b&&(d["apollographql-client-name"]=b),S&&(d["apollographql-client-version"]=S)}var _=p(p({},d),y.headers),w={http:y.http,options:y.fetchOptions,credentials:y.credentials,headers:_},O=Wi(h,a,Ni,l,w),R=O.options,E=O.body;if(E.variables&&!u){var k=new Set(Object.keys(E.variables));x.visit(h.query,{Variable:function(V,Ht,j){j&&j.kind!=="VariableDefinition"&&k.delete(V.name.value)}}),k.size&&(E.variables=p({},E.variables),k.forEach(function(V){delete E.variables[V]}))}var A;if(!R.signal){var I=$i(),Fe=I.controller,Ce=I.signal;A=Fe,A&&(R.signal=Ce)}var Tn=function(V){return V.kind==="OperationDefinition"&&V.operation==="mutation"};if(s&&!h.query.definitions.some(Tn)&&(R.method="GET"),R.method==="GET"){var Gt=Ki(v,E),Mn=Gt.newURI,Kt=Gt.parseError;if(Kt)return Fr(Kt);v=Mn}else try{R.body=bt(E,"Payload")}catch(V){return Fr(V)}return new C(function(V){var Ht=n||z(function(){return fetch})||Tr;return Ht(v,R).then(function(j){return h.setContext({response:j}),j}).then(Vi(h)).then(function(j){return V.next(j),V.complete(),j}).catch(function(j){j.name!=="AbortError"&&(j.result&&j.result.errors&&j.result.data&&V.next(j.result),V.error(j))}),function(){A&&A.abort()}})})},Ji=function(r){L(e,r);function e(t){t===void 0&&(t={});var n=r.call(this,Hi(t).request)||this;return n.options=t,n}return e}(be),Mr=Object.prototype,Pr=Mr.toString,Yi=Mr.hasOwnProperty,Qr=Function.prototype.toString,wt=new Map;function M(r,e){try{return _t(r,e)}finally{wt.clear()}}function _t(r,e){if(r===e)return!0;var t=Pr.call(r),n=Pr.call(e);if(t!==n)return!1;switch(t){case"[object Array]":if(r.length!==e.length)return!1;case"[object Object]":{if(jr(r,e))return!0;var i=Ar(r),a=Ar(e),o=i.length;if(o!==a.length)return!1;for(var s=0;s<o;++s)if(!Yi.call(e,i[s]))return!1;for(var s=0;s<o;++s){var c=i[s];if(!_t(r[c],e[c]))return!1}return!0}case"[object Error]":return r.name===e.name&&r.message===e.message;case"[object Number]":if(r!==r)return e!==e;case"[object Boolean]":case"[object Date]":return+r==+e;case"[object RegExp]":case"[object String]":return r==""+e;case"[object Map]":case"[object Set]":{if(r.size!==e.size)return!1;if(jr(r,e))return!0;for(var u=r.entries(),f=t==="[object Map]";;){var l=u.next();if(l.done)break;var h=l.value,v=h[0],y=h[1];if(!e.has(v)||f&&!_t(y,e.get(v)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":r=new Uint8Array(r),e=new Uint8Array(e);case"[object DataView]":{var d=r.byteLength;if(d===e.byteLength)for(;d--&&r[d]===e[d];);return d===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{var m=Qr.call(r);return m!==Qr.call(e)?!1:!ea(m,Zi)}}return!1}function Ar(r){return Object.keys(r).filter(Xi,r)}function Xi(r){return this[r]!==void 0}var Zi="{ [native code] }";function ea(r,e){var t=r.length-e.length;return t>=0&&r.indexOf(e,t)===t}function jr(r,e){var t=wt.get(r);if(t){if(t.has(e))return!0}else wt.set(r,t=new Set);return t.add(e),!1}var ta=function(){return Object.create(null)},Vr=Array.prototype,ra=Vr.forEach,na=Vr.slice,we=function(){function r(e,t){e===void 0&&(e=!0),t===void 0&&(t=ta),this.weakness=e,this.makeData=t}return r.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},r.prototype.lookupArray=function(e){var t=this;return ra.call(e,function(n){return t=t.getChildTrie(n)}),t.data||(t.data=this.makeData(na.call(e)))},r.prototype.getChildTrie=function(e){var t=this.weakness&&ia(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),n=t.get(e);return n||t.set(e,n=new r(this.weakness,this.makeData)),n},r}();function ia(r){switch(typeof r){case"object":if(r===null)break;case"function":return!0}return!1}var Q=null,xr={},aa=1,oa=function(){return function(){function r(){this.id=["slot",aa++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return r.prototype.hasValue=function(){for(var e=Q;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===xr)break;return e!==Q&&(Q.slots[this.id]=t),!0}return Q&&(Q.slots[this.id]=xr),!1},r.prototype.getValue=function(){if(this.hasValue())return Q.slots[this.id]},r.prototype.withValue=function(e,t,n,i){var a,o=(a={__proto__:null},a[this.id]=e,a),s=Q;Q={parent:s,slots:o};try{return t.apply(i,n)}finally{Q=s}},r.bind=function(e){var t=Q;return function(){var n=Q;try{return Q=t,e.apply(this,arguments)}finally{Q=n}}},r.noContext=function(e,t,n){if(Q){var i=Q;try{return Q=null,e.apply(n,t)}finally{Q=i}}else return e.apply(n,t)},r}()},St="@wry/context:Slot",Ot=Array,Ie=Ot[St]||function(){var r=oa();try{Object.defineProperty(Ot,St,{value:Ot[St]=r,enumerable:!1,writable:!1,configurable:!1})}finally{return r}}();Ie.bind;Ie.noContext;function sa(){}var ua=function(){function r(e,t){e===void 0&&(e=1/0),t===void 0&&(t=sa),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return r.prototype.has=function(e){return this.map.has(e)},r.prototype.get=function(e){var t=this.getNode(e);return t&&t.value},r.prototype.getNode=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var n=t.older,i=t.newer;i&&(i.older=n),n&&(n.newer=i),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=i)}return t},r.prototype.set=function(e,t){var n=this.getNode(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)},r.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},r.prototype.delete=function(e){var t=this.map.get(e);return t?(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0):!1},r}(),Le=new Ie,Et,ca=Object.prototype.hasOwnProperty,kt=(Et=Array.from,Et===void 0?function(r){var e=[];return r.forEach(function(t){return e.push(t)}),e}:Et);function Ne(r){var e=r.unsubscribe;typeof e=="function"&&(r.unsubscribe=void 0,e())}var _e=[],fa=100;function ae(r,e){if(!r)throw new Error(e||"assertion failure")}function la(r,e){var t=r.length;return t>0&&t===e.length&&r[t-1]===e[t-1]}function Ir(r){switch(r.length){case 0:throw new Error("unknown value");case 1:return r[0];case 2:throw r[1]}}function ha(r){return r.slice(0)}var pa=function(){function r(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++r.count}return r.prototype.peek=function(){if(this.value.length===1&&!B(this))return Lr(this),this.value[0]},r.prototype.recompute=function(e){return ae(!this.recomputing,"already recomputing"),Lr(this),B(this)?va(this,e):Ir(this.value)},r.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,Nr(this),Ne(this))},r.prototype.dispose=function(){var e=this;this.setDirty(),$r(this),Dt(this,function(t,n){t.setDirty(),Gr(t,e)})},r.prototype.forget=function(){this.dispose()},r.prototype.dependOn=function(e){e.add(this),this.deps||(this.deps=_e.pop()||new Set),this.deps.add(e)},r.prototype.forgetDeps=function(){var e=this;this.deps&&(kt(this.deps).forEach(function(t){return t.delete(e)}),this.deps.clear(),_e.push(this.deps),this.deps=null)},r.count=0,r}();function Lr(r){var e=Le.getValue();if(e)return r.parents.add(e),e.childValues.has(r)||e.childValues.set(r,[]),B(r)?Wr(e,r):Ur(e,r),e}function va(r,e){return $r(r),Le.withValue(r,da,[r,e]),ma(r,e)&&ya(r),Ir(r.value)}function da(r,e){r.recomputing=!0,r.value.length=0;try{r.value[0]=r.fn.apply(null,e)}catch(t){r.value[1]=t}r.recomputing=!1}function B(r){return r.dirty||!!(r.dirtyChildren&&r.dirtyChildren.size)}function ya(r){r.dirty=!1,!B(r)&&zr(r)}function Nr(r){Dt(r,Wr)}function zr(r){Dt(r,Ur)}function Dt(r,e){var t=r.parents.size;if(t)for(var n=kt(r.parents),i=0;i<t;++i)e(n[i],r)}function Wr(r,e){ae(r.childValues.has(e)),ae(B(e));var t=!B(r);if(!r.dirtyChildren)r.dirtyChildren=_e.pop()||new Set;else if(r.dirtyChildren.has(e))return;r.dirtyChildren.add(e),t&&Nr(r)}function Ur(r,e){ae(r.childValues.has(e)),ae(!B(e));var t=r.childValues.get(e);t.length===0?r.childValues.set(e,ha(e.value)):la(t,e.value)||r.setDirty(),Br(r,e),!B(r)&&zr(r)}function Br(r,e){var t=r.dirtyChildren;t&&(t.delete(e),t.size===0&&(_e.length<fa&&_e.push(t),r.dirtyChildren=null))}function $r(r){r.childValues.size>0&&r.childValues.forEach(function(e,t){Gr(r,t)}),r.forgetDeps(),ae(r.dirtyChildren===null)}function Gr(r,e){e.parents.delete(r),r.childValues.delete(e),Br(r,e)}function ma(r,e){if(typeof r.subscribe=="function")try{Ne(r),r.unsubscribe=r.subscribe.apply(null,e)}catch{return r.setDirty(),!1}return!0}var ga={setDirty:!0,dispose:!0,forget:!0};function Kr(r){var e=new Map,t=r&&r.subscribe;function n(i){var a=Le.getValue();if(a){var o=e.get(i);o||e.set(i,o=new Set),a.dependOn(o),typeof t=="function"&&(Ne(o),o.unsubscribe=t(i))}}return n.dirty=function(a,o){var s=e.get(a);if(s){var c=o&&ca.call(ga,o)?o:"setDirty";kt(s).forEach(function(u){return u[c]()}),e.delete(a),Ne(s)}},n}function Hr(){var r=new we(typeof WeakMap=="function");return function(){return r.lookupArray(arguments)}}Hr();var Ft=new Set;function ze(r,e){e===void 0&&(e=Object.create(null));var t=new ua(e.max||Math.pow(2,16),function(u){return u.dispose()}),n=e.keyArgs,i=e.makeCacheKey||Hr(),a=function(){var u=i.apply(null,n?n.apply(null,arguments):arguments);if(u===void 0)return r.apply(null,arguments);var f=t.get(u);f||(t.set(u,f=new pa(r)),f.subscribe=e.subscribe,f.forget=function(){return t.delete(u)});var l=f.recompute(Array.prototype.slice.call(arguments));return t.set(u,f),Ft.add(t),Le.hasValue()||(Ft.forEach(function(h){return h.clean()}),Ft.clear()),l};Object.defineProperty(a,"size",{get:function(){return t.map.size},configurable:!1,enumerable:!1});function o(u){var f=t.get(u);f&&f.setDirty()}a.dirtyKey=o,a.dirty=function(){o(i.apply(null,arguments))};function s(u){var f=t.get(u);if(f)return f.peek()}a.peekKey=s,a.peek=function(){return s(i.apply(null,arguments))};function c(u){return t.delete(u)}return a.forgetKey=c,a.forget=function(){return c(i.apply(null,arguments))},a.makeCacheKey=i,a.getKey=n?function(){return i.apply(null,n.apply(null,arguments))}:i,Object.freeze(a)}var ba=function(){function r(){this.getFragmentDoc=ze(Kn)}return r.prototype.batch=function(e){var t=this,n=typeof e.optimistic=="string"?e.optimistic:e.optimistic===!1?null:void 0,i;return this.performTransaction(function(){return i=e.update(t)},n),i},r.prototype.recordOptimisticTransaction=function(e,t){this.performTransaction(e,t)},r.prototype.transformDocument=function(e){return e},r.prototype.identify=function(e){},r.prototype.gc=function(){return[]},r.prototype.modify=function(e){return!1},r.prototype.transformForLink=function(e){return e},r.prototype.readQuery=function(e,t){return t===void 0&&(t=!!e.optimistic),this.read(p(p({},e),{rootId:e.id||"ROOT_QUERY",optimistic:t}))},r.prototype.readFragment=function(e,t){return t===void 0&&(t=!!e.optimistic),this.read(p(p({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:t}))},r.prototype.writeQuery=function(e){var t=e.id,n=e.data,i=ee(e,["id","data"]);return this.write(Object.assign(i,{dataId:t||"ROOT_QUERY",result:n}))},r.prototype.writeFragment=function(e){var t=e.id,n=e.data,i=e.fragment,a=e.fragmentName,o=ee(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(o,{query:this.getFragmentDoc(i,a),dataId:t,result:n}))},r.prototype.updateQuery=function(e,t){return this.batch({update:function(n){var i=n.readQuery(e),a=t(i);return a==null?i:(n.writeQuery(p(p({},e),{data:a})),a)}})},r.prototype.updateFragment=function(e,t){return this.batch({update:function(n){var i=n.readFragment(e),a=t(i);return a==null?i:(n.writeFragment(p(p({},e),{data:a})),a)}})},r}(),Jr=function(){function r(e,t,n,i){this.message=e,this.path=t,this.query=n,this.variables=i}return r}(),P=Object.prototype.hasOwnProperty;function Yr(r,e){var t=r.__typename,n=r.id,i=r._id;if(typeof t=="string"&&(e&&(e.keyObject=n!==void 0?{id:n}:i!==void 0?{_id:i}:void 0),n===void 0&&(n=i),n!==void 0))return"".concat(t,":").concat(typeof n=="number"||typeof n=="string"?n:JSON.stringify(n))}var Xr={dataIdFromObject:Yr,addTypename:!0,resultCaching:!0,canonizeResults:!1};function wa(r){return me(Xr,r)}function Zr(r){var e=r.canonizeResults;return e===void 0?Xr.canonizeResults:e}function _a(r,e){return D(e)?r.get(e.__ref,"__typename"):e&&e.__typename}var en=/^[_a-z][_0-9a-z]*/i;function $(r){var e=r.match(en);return e?e[0]:r}function Ct(r,e,t){return T(e)?Array.isArray(e)?e.every(function(n){return Ct(r,n,t)}):r.selections.every(function(n){if(W(n)&&Te(n,t)){var i=J(n);return P.call(e,i)&&(!n.selectionSet||Ct(n.selectionSet,e[i],t))}return!0}):!1}function oe(r){return T(r)&&!D(r)&&!Array.isArray(r)}function Sa(){return new pe}var We=Object.create(null),qt=function(){return We},tn=Object.create(null),Se=function(){function r(e,t){var n=this;this.policies=e,this.group=t,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(i,a){return dt(D(i)?n.get(i.__ref,a):i&&i[a])},this.canRead=function(i){return D(i)?n.has(i.__ref):typeof i=="object"},this.toReference=function(i,a){if(typeof i=="string")return te(i);if(D(i))return i;var o=n.policies.identify(i)[0];if(o){var s=te(o);return a&&n.merge(o,i),s}}}return r.prototype.toObject=function(){return p({},this.data)},r.prototype.has=function(e){return this.lookup(e,!0)!==void 0},r.prototype.get=function(e,t){if(this.group.depend(e,t),P.call(this.data,e)){var n=this.data[e];if(n&&P.call(n,t))return n[t]}if(t==="__typename"&&P.call(this.policies.rootTypenamesById,e))return this.policies.rootTypenamesById[e];if(this instanceof G)return this.parent.get(e,t)},r.prototype.lookup=function(e,t){if(t&&this.group.depend(e,"__exists"),P.call(this.data,e))return this.data[e];if(this instanceof G)return this.parent.lookup(e,t);if(this.policies.rootTypenamesById[e])return Object.create(null)},r.prototype.merge=function(e,t){var n=this,i;D(e)&&(e=e.__ref),D(t)&&(t=t.__ref);var a=typeof e=="string"?this.lookup(i=e):e,o=typeof t=="string"?this.lookup(i=t):t;if(!!o){__DEV__?g(typeof i=="string","store.merge expects a string ID"):g(typeof i=="string",1);var s=new pe(Ea).merge(a,o);if(this.data[i]=s,s!==a&&(delete this.refs[i],this.group.caching)){var c=Object.create(null);a||(c.__exists=1),Object.keys(o).forEach(function(u){if(!a||a[u]!==s[u]){c[u]=1;var f=$(u);f!==u&&!n.policies.hasKeyArgs(s.__typename,f)&&(c[f]=1),s[u]===void 0&&!(n instanceof G)&&delete s[u]}}),c.__typename&&!(a&&a.__typename)&&this.policies.rootTypenamesById[i]===s.__typename&&delete c.__typename,Object.keys(c).forEach(function(u){return n.group.dirty(i,u)})}}},r.prototype.modify=function(e,t){var n=this,i=this.lookup(e);if(i){var a=Object.create(null),o=!1,s=!0,c={DELETE:We,INVALIDATE:tn,isReference:D,toReference:this.toReference,canRead:this.canRead,readField:function(u,f){return n.policies.readField(typeof u=="string"?{fieldName:u,from:f||te(e)}:u,{store:n})}};if(Object.keys(i).forEach(function(u){var f=$(u),l=i[u];if(l!==void 0){var h=typeof t=="function"?t:t[u]||t[f];if(h){var v=h===qt?We:h(dt(l),p(p({},c),{fieldName:f,storeFieldName:u,storage:n.getStorage(e,u)}));v===tn?n.group.dirty(e,u):(v===We&&(v=void 0),v!==l&&(a[u]=v,o=!0,l=v))}l!==void 0&&(s=!1)}}),o)return this.merge(e,a),s&&(this instanceof G?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},r.prototype.delete=function(e,t,n){var i,a=this.lookup(e);if(a){var o=this.getFieldValue(a,"__typename"),s=t&&n?this.policies.getStoreFieldName({typename:o,fieldName:t,args:n}):t;return this.modify(e,s?(i={},i[s]=qt,i):qt)}return!1},r.prototype.evict=function(e,t){var n=!1;return e.id&&(P.call(this.data,e.id)&&(n=this.delete(e.id,e.fieldName,e.args)),this instanceof G&&this!==t&&(n=this.parent.evict(e,t)||n),(e.fieldName||n)&&this.group.dirty(e.id,e.fieldName||"__exists")),n},r.prototype.clear=function(){this.replace(null)},r.prototype.extract=function(){var e=this,t=this.toObject(),n=[];return this.getRootIdSet().forEach(function(i){P.call(e.policies.rootTypenamesById,i)||n.push(i)}),n.length&&(t.__META={extraRootIds:n.sort()}),t},r.prototype.replace=function(e){var t=this;if(Object.keys(this.data).forEach(function(a){e&&P.call(e,a)||t.delete(a)}),e){var n=e.__META,i=ee(e,["__META"]);Object.keys(i).forEach(function(a){t.merge(a,i[a])}),n&&n.extraRootIds.forEach(this.retain,this)}},r.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},r.prototype.release=function(e){if(this.rootIds[e]>0){var t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0},r.prototype.getRootIdSet=function(e){return e===void 0&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof G?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},r.prototype.gc=function(){var e=this,t=this.getRootIdSet(),n=this.toObject();t.forEach(function(o){P.call(n,o)&&(Object.keys(e.findChildRefIds(o)).forEach(t.add,t),delete n[o])});var i=Object.keys(n);if(i.length){for(var a=this;a instanceof G;)a=a.parent;i.forEach(function(o){return a.delete(o)})}return i},r.prototype.findChildRefIds=function(e){if(!P.call(this.refs,e)){var t=this.refs[e]=Object.create(null),n=this.data[e];if(!n)return t;var i=new Set([n]);i.forEach(function(a){D(a)&&(t[a.__ref]=!0),T(a)&&Object.keys(a).forEach(function(o){var s=a[o];T(s)&&i.add(s)})})}return this.refs[e]},r.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},r}(),rn=function(){function r(e,t){t===void 0&&(t=null),this.caching=e,this.parent=t,this.d=null,this.resetCaching()}return r.prototype.resetCaching=function(){this.d=this.caching?Kr():null,this.keyMaker=new we(Y)},r.prototype.depend=function(e,t){if(this.d){this.d(Rt(e,t));var n=$(t);n!==t&&this.d(Rt(e,n)),this.parent&&this.parent.depend(e,t)}},r.prototype.dirty=function(e,t){this.d&&this.d.dirty(Rt(e,t),t==="__exists"?"forget":"setDirty")},r}();function Rt(r,e){return e+"#"+r}function nn(r,e){Oe(r)&&r.group.depend(e,"__exists")}(function(r){var e=function(t){L(n,t);function n(i){var a=i.policies,o=i.resultCaching,s=o===void 0?!0:o,c=i.seed,u=t.call(this,a,new rn(s))||this;return u.stump=new Oa(u),u.storageTrie=new we(Y),c&&u.replace(c),u}return n.prototype.addLayer=function(i,a){return this.stump.addLayer(i,a)},n.prototype.removeLayer=function(){return this},n.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},n}(r);r.Root=e})(Se||(Se={}));var G=function(r){L(e,r);function e(t,n,i,a){var o=r.call(this,n.policies,a)||this;return o.id=t,o.parent=n,o.replay=i,o.group=a,i(o),o}return e.prototype.addLayer=function(t,n){return new e(t,this,n,this.group)},e.prototype.removeLayer=function(t){var n=this,i=this.parent.removeLayer(t);return t===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(a){var o=n.data[a],s=i.lookup(a);s?o?o!==s&&Object.keys(o).forEach(function(c){M(o[c],s[c])||n.group.dirty(a,c)}):(n.group.dirty(a,"__exists"),Object.keys(s).forEach(function(c){n.group.dirty(a,c)})):n.delete(a)}),i):i===this.parent?this:i.addLayer(this.id,this.replay)},e.prototype.toObject=function(){return p(p({},this.parent.toObject()),this.data)},e.prototype.findChildRefIds=function(t){var n=this.parent.findChildRefIds(t);return P.call(this.data,t)?p(p({},n),r.prototype.findChildRefIds.call(this,t)):n},e.prototype.getStorage=function(){for(var t=this.parent;t.parent;)t=t.parent;return t.getStorage.apply(t,arguments)},e}(Se),Oa=function(r){L(e,r);function e(t){return r.call(this,"EntityStore.Stump",t,function(){},new rn(t.group.caching,t.group))||this}return e.prototype.removeLayer=function(){return this},e.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},e}(G);function Ea(r,e,t){var n=r[t],i=e[t];return M(n,i)?n:i}function Oe(r){return!!(r instanceof Se&&r.group.caching)}function ka(r){return T(r)?Array.isArray(r)?r.slice(0):p({__proto__:Object.getPrototypeOf(r)},r):r}var Tt=function(){function r(){this.known=new(qi?WeakSet:Set),this.pool=new we(Y),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return r.prototype.isKnown=function(e){return T(e)&&this.known.has(e)},r.prototype.pass=function(e){if(T(e)){var t=ka(e);return this.passes.set(t,e),t}return e},r.prototype.admit=function(e){var t=this;if(T(e)){var n=this.passes.get(e);if(n)return n;var i=Object.getPrototypeOf(e);switch(i){case Array.prototype:{if(this.known.has(e))return e;var a=e.map(this.admit,this),o=this.pool.lookupArray(a);return o.array||(this.known.add(o.array=a),__DEV__&&Object.freeze(a)),o.array}case null:case Object.prototype:{if(this.known.has(e))return e;var s=Object.getPrototypeOf(e),c=[s],u=this.sortedKeys(e);c.push(u.json);var f=c.length;u.sorted.forEach(function(v){c.push(t.admit(e[v]))});var o=this.pool.lookupArray(c);if(!o.object){var l=o.object=Object.create(s);this.known.add(l),u.sorted.forEach(function(v,y){l[v]=c[f+y]}),__DEV__&&Object.freeze(l)}return o.object}}}return e},r.prototype.sortedKeys=function(e){var t=Object.keys(e),n=this.pool.lookupArray(t);if(!n.keys){t.sort();var i=JSON.stringify(t);(n.keys=this.keysByJSON.get(i))||this.keysByJSON.set(i,n.keys={sorted:t,json:i})}return n.keys},r}(),Z=Object.assign(function(r){if(T(r)){Mt===void 0&&an();var e=Mt.admit(r),t=Pt.get(e);return t===void 0&&Pt.set(e,t=JSON.stringify(e)),t}return JSON.stringify(r)},{reset:an}),Mt,Pt;function an(){Mt=new Tt,Pt=new(Y?WeakMap:Map)}function on(r){return[r.selectionSet,r.objectOrReference,r.context,r.context.canonizeResults]}var Da=function(){function r(e){var t=this;this.knownResults=new(Y?WeakMap:Map),this.config=me(e,{addTypename:e.addTypename!==!1,canonizeResults:Zr(e)}),this.canon=e.canon||new Tt,this.executeSelectionSet=ze(function(n){var i,a=n.context.canonizeResults,o=on(n);o[3]=!a;var s=(i=t.executeSelectionSet).peek.apply(i,o);return s?a?p(p({},s),{result:t.canon.admit(s.result)}):s:(nn(n.context.store,n.enclosingRef.__ref),t.execSelectionSetImpl(n))},{max:this.config.resultCacheMaxSize,keyArgs:on,makeCacheKey:function(n,i,a,o){if(Oe(a.store))return a.store.makeCacheKey(n,D(i)?i.__ref:i,a.varString,o)}}),this.executeSubSelectedArray=ze(function(n){return nn(n.context.store,n.enclosingRef.__ref),t.execSubSelectedArrayImpl(n)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(n){var i=n.field,a=n.array,o=n.context;if(Oe(o.store))return o.store.makeCacheKey(i,a,o.varString)}})}return r.prototype.resetCanon=function(){this.canon=new Tt},r.prototype.diffQueryAgainstStore=function(e){var t=e.store,n=e.query,i=e.rootId,a=i===void 0?"ROOT_QUERY":i,o=e.variables,s=e.returnPartialData,c=s===void 0?!0:s,u=e.canonizeResults,f=u===void 0?this.config.canonizeResults:u,l=this.config.cache.policies;o=p(p({},it(sr(n))),o);var h=te(a),v=new pe,y=this.executeSelectionSet({selectionSet:nt(n).selectionSet,objectOrReference:h,enclosingRef:h,context:{store:t,query:n,policies:l,variables:o,varString:Z(o),canonizeResults:f,fragmentMap:Me(Qe(n)),merge:function(m,b){return v.merge(m,b)}}}),d;if(y.missing&&(d=[new Jr(Fa(y.missing),y.missing,n,o)],!c))throw d[0];return{result:y.result,complete:!d,missing:d}},r.prototype.isFresh=function(e,t,n,i){if(Oe(i.store)&&this.knownResults.get(e)===n){var a=this.executeSelectionSet.peek(n,t,i,this.canon.isKnown(e));if(a&&e===a.result)return!0}return!1},r.prototype.execSelectionSetImpl=function(e){var t=this,n=e.selectionSet,i=e.objectOrReference,a=e.enclosingRef,o=e.context;if(D(i)&&!o.policies.rootTypenamesById[i.__ref]&&!o.store.has(i.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(i.__ref," object")};var s=o.variables,c=o.policies,u=o.store,f=u.getFieldValue(i,"__typename"),l={},h;this.config.addTypename&&typeof f=="string"&&!c.rootIdsByTypename[f]&&(l={__typename:f});function v(b,S){var _;return b.missing&&(h=o.merge(h,(_={},_[S]=b.missing,_))),b.result}var y=new Set(n.selections);y.forEach(function(b){var S,_;if(!!Te(b,s))if(W(b)){var w=c.readField({fieldName:b.name.value,field:b,variables:o.variables,from:i},o),O=J(b);w===void 0?ot.added(b)||(h=o.merge(h,(S={},S[O]="Can't find field '".concat(b.name.value,"' on ").concat(D(i)?i.__ref+" object":"object "+JSON.stringify(i,null,2)),S))):Array.isArray(w)?w=v(t.executeSubSelectedArray({field:b,array:w,enclosingRef:a,context:o}),O):b.selectionSet?w!=null&&(w=v(t.executeSelectionSet({selectionSet:b.selectionSet,objectOrReference:w,enclosingRef:D(w)?w:a,context:o}),O)):o.canonizeResults&&(w=t.canon.pass(w)),w!==void 0&&(l=o.merge(l,(_={},_[O]=w,_)))}else{var R=Ze(b,o.fragmentMap);R&&c.fragmentMatches(R,f)&&R.selectionSet.selections.forEach(y.add,y)}});var d={result:l,missing:h},m=o.canonizeResults?this.canon.admit(d):dt(d);return m.result&&this.knownResults.set(m.result,n),m},r.prototype.execSubSelectedArrayImpl=function(e){var t=this,n=e.field,i=e.array,a=e.enclosingRef,o=e.context,s;function c(u,f){var l;return u.missing&&(s=o.merge(s,(l={},l[f]=u.missing,l))),u.result}return n.selectionSet&&(i=i.filter(o.store.canRead)),i=i.map(function(u,f){return u===null?null:Array.isArray(u)?c(t.executeSubSelectedArray({field:n,array:u,enclosingRef:a,context:o}),f):n.selectionSet?c(t.executeSelectionSet({selectionSet:n.selectionSet,objectOrReference:u,enclosingRef:D(u)?u:a,context:o}),f):(__DEV__&&Ca(o.store,n,u),u)}),{result:o.canonizeResults?this.canon.admit(i):i,missing:s}},r}();function Fa(r){try{JSON.stringify(r,function(e,t){if(typeof t=="string")throw t;return t})}catch(e){return e}}function Ca(r,e,t){if(!e.selectionSet){var n=new Set([t]);n.forEach(function(i){T(i)&&(__DEV__?g(!D(i),"Missing selection set for object of type ".concat(_a(r,i)," returned for query field ").concat(e.name.value)):g(!D(i),5),Object.values(i).forEach(n.add,n))})}}var Qt=new Ie,sn=new WeakMap;function Ee(r){var e=sn.get(r);return e||sn.set(r,e={vars:new Set,dep:Kr()}),e}function un(r){Ee(r).vars.forEach(function(e){return e.forgetCache(r)})}function qa(r){Ee(r).vars.forEach(function(e){return e.attachCache(r)})}function Ra(r){var e=new Set,t=new Set,n=function(a){if(arguments.length>0){if(r!==a){r=a,e.forEach(function(c){Ee(c).dep.dirty(n),Ta(c)});var o=Array.from(t);t.clear(),o.forEach(function(c){return c(r)})}}else{var s=Qt.getValue();s&&(i(s),Ee(s).dep(n))}return r};n.onNextChange=function(a){return t.add(a),function(){t.delete(a)}};var i=n.attachCache=function(a){return e.add(a),Ee(a).vars.add(n),n};return n.forgetCache=function(a){return e.delete(a)},n}function Ta(r){r.broadcastWatches&&r.broadcastWatches()}var cn=Object.create(null);function At(r){var e=JSON.stringify(r);return cn[e]||(cn[e]=Object.create(null))}function fn(r){var e=At(r);return e.keyFieldsFn||(e.keyFieldsFn=function(t,n){var i=function(o,s){return n.readField(s,o)},a=n.keyObject=jt(r,function(o){var s=se(n.storeObject,o,i);return s===void 0&&t!==n.storeObject&&P.call(t,o[0])&&(s=se(t,o,pn)),__DEV__?g(s!==void 0,"Missing field '".concat(o.join("."),"' while extracting keyFields from ").concat(JSON.stringify(t))):g(s!==void 0,2),s});return"".concat(n.typename,":").concat(JSON.stringify(a))})}function ln(r){var e=At(r);return e.keyArgsFn||(e.keyArgsFn=function(t,n){var i=n.field,a=n.variables,o=n.fieldName,s=jt(r,function(u){var f=u[0],l=f.charAt(0);if(l==="@"){if(i&&X(i.directives)){var h=f.slice(1),v=i.directives.find(function(b){return b.name.value===h}),y=v&&Pe(v,a);return y&&se(y,u.slice(1))}return}if(l==="$"){var d=f.slice(1);if(a&&P.call(a,d)){var m=u.slice(0);return m[0]=d,se(a,m)}return}if(t)return se(t,u)}),c=JSON.stringify(s);return(t||c!=="{}")&&(o+=":"+c),o})}function jt(r,e){var t=new pe;return hn(r).reduce(function(n,i){var a,o=e(i);if(o!==void 0){for(var s=i.length-1;s>=0;--s)o=(a={},a[i[s]]=o,a);n=t.merge(n,o)}return n},Object.create(null))}function hn(r){var e=At(r);if(!e.paths){var t=e.paths=[],n=[];r.forEach(function(i,a){Array.isArray(i)?(hn(i).forEach(function(o){return t.push(n.concat(o))}),n.length=0):(n.push(i),Array.isArray(r[a+1])||(t.push(n.slice(0)),n.length=0))})}return e.paths}function pn(r,e){return r[e]}function se(r,e,t){return t=t||pn,vn(e.reduce(function n(i,a){return Array.isArray(i)?i.map(function(o){return n(o,a)}):i&&t(i,a)},r))}function vn(r){return T(r)?Array.isArray(r)?r.map(vn):jt(Object.keys(r).sort(),function(e){return se(r,e)}):r}et.setStringify(Z);function Vt(r){return r.args!==void 0?r.args:r.field?Pe(r.field,r.variables):null}var Ma=function(){},dn=function(r,e){return e.fieldName},yn=function(r,e,t){var n=t.mergeObjects;return n(r,e)},mn=function(r,e){return e},Pa=function(){function r(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=p({dataIdFromObject:Yr},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return r.prototype.identify=function(e,t){var n,i=this,a=t&&(t.typename||((n=t.storeObject)===null||n===void 0?void 0:n.__typename))||e.__typename;if(a===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var o=t&&t.storeObject||e,s=p(p({},t),{typename:a,storeObject:o,readField:t&&t.readField||function(){var h=xt(arguments,o);return i.readField(h,{store:i.cache.data,variables:h.variables})}}),c,u=a&&this.getTypePolicy(a),f=u&&u.keyFn||this.config.dataIdFromObject;f;){var l=f(e,s);if(Array.isArray(l))f=fn(l);else{c=l;break}}return c=c?String(c):void 0,s.keyObject?[c,s.keyObject]:[c]},r.prototype.addTypePolicies=function(e){var t=this;Object.keys(e).forEach(function(n){var i=e[n],a=i.queryType,o=i.mutationType,s=i.subscriptionType,c=ee(i,["queryType","mutationType","subscriptionType"]);a&&t.setRootTypename("Query",n),o&&t.setRootTypename("Mutation",n),s&&t.setRootTypename("Subscription",n),P.call(t.toBeAdded,n)?t.toBeAdded[n].push(c):t.toBeAdded[n]=[c]})},r.prototype.updateTypePolicy=function(e,t){var n=this,i=this.getTypePolicy(e),a=t.keyFields,o=t.fields;function s(c,u){c.merge=typeof u=="function"?u:u===!0?yn:u===!1?mn:c.merge}s(i,t.merge),i.keyFn=a===!1?Ma:Array.isArray(a)?fn(a):typeof a=="function"?a:i.keyFn,o&&Object.keys(o).forEach(function(c){var u=n.getFieldPolicy(e,c,!0),f=o[c];if(typeof f=="function")u.read=f;else{var l=f.keyArgs,h=f.read,v=f.merge;u.keyFn=l===!1?dn:Array.isArray(l)?ln(l):typeof l=="function"?l:u.keyFn,typeof h=="function"&&(u.read=h),s(u,v)}u.read&&u.merge&&(u.keyFn=u.keyFn||dn)})},r.prototype.setRootTypename=function(e,t){t===void 0&&(t=e);var n="ROOT_"+e.toUpperCase(),i=this.rootTypenamesById[n];t!==i&&(__DEV__?g(!i||i===e,"Cannot change root ".concat(e," __typename more than once")):g(!i||i===e,3),i&&delete this.rootIdsByTypename[i],this.rootIdsByTypename[t]=n,this.rootTypenamesById[n]=t)},r.prototype.addPossibleTypes=function(e){var t=this;this.usingPossibleTypes=!0,Object.keys(e).forEach(function(n){t.getSupertypeSet(n,!0),e[n].forEach(function(i){t.getSupertypeSet(i,!0).add(n);var a=i.match(en);(!a||a[0]!==i)&&t.fuzzySubtypes.set(i,new RegExp(i))})})},r.prototype.getTypePolicy=function(e){var t=this;if(!P.call(this.typePolicies,e)){var n=this.typePolicies[e]=Object.create(null);n.fields=Object.create(null);var i=this.supertypeMap.get(e);i&&i.size&&i.forEach(function(o){var s=t.getTypePolicy(o),c=s.fields,u=ee(s,["fields"]);Object.assign(n,u),Object.assign(n.fields,c)})}var a=this.toBeAdded[e];return a&&a.length&&a.splice(0).forEach(function(o){t.updateTypePolicy(e,o)}),this.typePolicies[e]},r.prototype.getFieldPolicy=function(e,t,n){if(e){var i=this.getTypePolicy(e).fields;return i[t]||n&&(i[t]=Object.create(null))}},r.prototype.getSupertypeSet=function(e,t){var n=this.supertypeMap.get(e);return!n&&t&&this.supertypeMap.set(e,n=new Set),n},r.prototype.fragmentMatches=function(e,t,n,i){var a=this;if(!e.typeCondition)return!0;if(!t)return!1;var o=e.typeCondition.name.value;if(t===o)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(o))for(var s=this.getSupertypeSet(t,!0),c=[s],u=function(y){var d=a.getSupertypeSet(y,!1);d&&d.size&&c.indexOf(d)<0&&c.push(d)},f=!!(n&&this.fuzzySubtypes.size),l=!1,h=0;h<c.length;++h){var v=c[h];if(v.has(o))return s.has(o)||(l&&__DEV__&&g.warn("Inferring subtype ".concat(t," of supertype ").concat(o)),s.add(o)),!0;v.forEach(u),f&&h===c.length-1&&Ct(e.selectionSet,n,i)&&(f=!1,l=!0,this.fuzzySubtypes.forEach(function(y,d){var m=t.match(y);m&&m[0]===t&&u(d)}))}return!1},r.prototype.hasKeyArgs=function(e,t){var n=this.getFieldPolicy(e,t,!1);return!!(n&&n.keyFn)},r.prototype.getStoreFieldName=function(e){var t=e.typename,n=e.fieldName,i=this.getFieldPolicy(t,n,!1),a,o=i&&i.keyFn;if(o&&t)for(var s={typename:t,fieldName:n,field:e.field||null,variables:e.variables},c=Vt(e);o;){var u=o(c,s);if(Array.isArray(u))o=ln(u);else{a=u||n;break}}return a===void 0&&(a=e.field?ai(e.field,e.variables):et(n,Vt(e))),a===!1?n:n===$(a)?a:n+":"+a},r.prototype.readField=function(e,t){var n=e.from;if(!!n){var i=e.field||e.fieldName;if(!!i){if(e.typename===void 0){var a=t.store.getFieldValue(n,"__typename");a&&(e.typename=a)}var o=this.getStoreFieldName(e),s=$(o),c=t.store.getFieldValue(n,o),u=this.getFieldPolicy(e.typename,s,!1),f=u&&u.read;if(f){var l=gn(this,n,e,t,t.store.getStorage(D(n)?n.__ref:n,o));return Qt.withValue(this.cache,f,[c,l])}return c}}},r.prototype.getReadFunction=function(e,t){var n=this.getFieldPolicy(e,t,!1);return n&&n.read},r.prototype.getMergeFunction=function(e,t,n){var i=this.getFieldPolicy(e,t,!1),a=i&&i.merge;return!a&&n&&(i=this.getTypePolicy(n),a=i&&i.merge),a},r.prototype.runMergeFunction=function(e,t,n,i,a){var o=n.field,s=n.typename,c=n.merge;return c===yn?bn(i.store)(e,t):c===mn?t:(i.overwrite&&(e=void 0),c(e,t,gn(this,void 0,{typename:s,fieldName:o.name.value,field:o,variables:i.variables},i,a||Object.create(null))))},r}();function gn(r,e,t,n,i){var a=r.getStoreFieldName(t),o=$(a),s=t.variables||n.variables,c=n.store,u=c.toReference,f=c.canRead;return{args:Vt(t),field:t.field||null,fieldName:o,storeFieldName:a,variables:s,isReference:D,toReference:u,storage:i,cache:r.cache,canRead:f,readField:function(){return r.readField(xt(arguments,e,n),n)},mergeObjects:bn(n.store)}}function xt(r,e,t){var n=r[0],i=r[1],a=r.length,o;return typeof n=="string"?o={fieldName:n,from:a>1?i:e}:(o=p({},n),P.call(o,"from")||(o.from=e)),__DEV__&&o.from===void 0&&__DEV__&&g.warn("Undefined 'from' passed to readField with arguments ".concat(Ti(Array.from(r)))),o.variables===void 0&&(o.variables=t),o}function bn(r){return function(t,n){if(Array.isArray(t)||Array.isArray(n))throw __DEV__?new F("Cannot automatically merge arrays"):new F(4);if(T(t)&&T(n)){var i=r.getFieldValue(t,"__typename"),a=r.getFieldValue(n,"__typename"),o=i&&a&&i!==a;if(o)return n;if(D(t)&&oe(n))return r.merge(t.__ref,n),t;if(oe(t)&&D(n))return r.merge(t,n.__ref),n;if(oe(t)&&oe(n))return p(p({},t),n)}return n}}function It(r,e,t){var n="".concat(e).concat(t),i=r.flavors.get(n);return i||r.flavors.set(n,i=r.clientOnly===e&&r.deferred===t?r:p(p({},r),{clientOnly:e,deferred:t})),i}var Qa=function(){function r(e,t){this.cache=e,this.reader=t}return r.prototype.writeToStore=function(e,t){var n=this,i=t.query,a=t.result,o=t.dataId,s=t.variables,c=t.overwrite,u=he(i),f=Sa();s=p(p({},it(u)),s);var l={store:e,written:Object.create(null),merge:function(v,y){return f.merge(v,y)},variables:s,varString:Z(s),fragmentMap:Me(Qe(i)),overwrite:!!c,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map},h=this.processSelectionSet({result:a||Object.create(null),dataId:o,selectionSet:u.selectionSet,mergeTree:{map:new Map},context:l});if(!D(h))throw __DEV__?new F("Could not identify object ".concat(JSON.stringify(a))):new F(6);return l.incomingById.forEach(function(v,y){var d=v.storeObject,m=v.mergeTree,b=v.fieldNodeSet,S=te(y);if(m&&m.map.size){var _=n.applyMerges(m,S,d,l);if(D(_))return;d=_}if(__DEV__&&!l.overwrite){var w=Object.create(null);b.forEach(function(E){E.selectionSet&&(w[E.name.value]=!0)});var O=function(E){return w[$(E)]===!0},R=function(E){var k=m&&m.map.get(E);return Boolean(k&&k.info&&k.info.merge)};Object.keys(d).forEach(function(E){O(E)&&!R(E)&&Aa(S,d,E,l.store)})}e.merge(y,d)}),e.retain(h.__ref),h},r.prototype.processSelectionSet=function(e){var t=this,n=e.dataId,i=e.result,a=e.selectionSet,o=e.context,s=e.mergeTree,c=this.cache.policies,u=Object.create(null),f=n&&c.rootTypenamesById[n]||tt(i,a,o.fragmentMap)||n&&o.store.get(n,"__typename");typeof f=="string"&&(u.__typename=f);var l=function(){var _=xt(arguments,u,o.variables);if(D(_.from)){var w=o.incomingById.get(_.from.__ref);if(w){var O=c.readField(p(p({},_),{from:w.storeObject}),o);if(O!==void 0)return O}}return c.readField(_,o)},h=new Set;this.flattenFields(a,i,o,f).forEach(function(_,w){var O,R=J(w),E=i[R];if(h.add(w),E!==void 0){var k=c.getStoreFieldName({typename:f,fieldName:w.name.value,field:w,variables:_.variables}),A=_n(s,k),I=t.processFieldValue(E,w,w.selectionSet?It(_,!1,!1):_,A),Fe=void 0;w.selectionSet&&(D(I)||oe(I))&&(Fe=l("__typename",I));var Ce=c.getMergeFunction(f,w.name.value,Fe);Ce?A.info={field:w,typename:f,merge:Ce}:Sn(s,k),u=_.merge(u,(O={},O[k]=I,O))}else __DEV__&&!_.clientOnly&&!_.deferred&&!ot.added(w)&&!c.getReadFunction(f,w.name.value)&&__DEV__&&g.error("Missing field '".concat(J(w),"' while writing result ").concat(JSON.stringify(i,null,2)).substring(0,1e3))});try{var v=c.identify(i,{typename:f,selectionSet:a,fragmentMap:o.fragmentMap,storeObject:u,readField:l}),y=v[0],d=v[1];n=n||y,d&&(u=o.merge(u,d))}catch(_){if(!n)throw _}if(typeof n=="string"){var m=te(n),b=o.written[n]||(o.written[n]=[]);if(b.indexOf(a)>=0||(b.push(a),this.reader&&this.reader.isFresh(i,m,a,o)))return m;var S=o.incomingById.get(n);return S?(S.storeObject=o.merge(S.storeObject,u),S.mergeTree=Lt(S.mergeTree,s),h.forEach(function(_){return S.fieldNodeSet.add(_)})):o.incomingById.set(n,{storeObject:u,mergeTree:Ue(s)?void 0:s,fieldNodeSet:h}),m}return u},r.prototype.processFieldValue=function(e,t,n,i){var a=this;return!t.selectionSet||e===null?__DEV__?Or(e):e:Array.isArray(e)?e.map(function(o,s){var c=a.processFieldValue(o,t,n,_n(i,s));return Sn(i,s),c}):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:n,mergeTree:i})},r.prototype.flattenFields=function(e,t,n,i){i===void 0&&(i=tt(t,e,n.fragmentMap));var a=new Map,o=this.cache.policies,s=new we(!1);return function c(u,f){var l=s.lookup(u,f.clientOnly,f.deferred);l.visited||(l.visited=!0,u.selections.forEach(function(h){if(!!Te(h,n.variables)){var v=f.clientOnly,y=f.deferred;if(!(v&&y)&&X(h.directives)&&h.directives.forEach(function(b){var S=b.name.value;if(S==="client"&&(v=!0),S==="defer"){var _=Pe(b,n.variables);(!_||_.if!==!1)&&(y=!0)}}),W(h)){var d=a.get(h);d&&(v=v&&d.clientOnly,y=y&&d.deferred),a.set(h,It(n,v,y))}else{var m=Ze(h,n.fragmentMap);m&&o.fragmentMatches(m,i,t,n.variables)&&c(m.selectionSet,It(n,v,y))}}}))}(e,n),a},r.prototype.applyMerges=function(e,t,n,i,a){var o,s=this;if(e.map.size&&!D(n)){var c=!Array.isArray(n)&&(D(t)||oe(t))?t:void 0,u=n;c&&!a&&(a=[D(c)?c.__ref:c]);var f,l=function(h,v){return Array.isArray(h)?typeof v=="number"?h[v]:void 0:i.store.getFieldValue(h,String(v))};e.map.forEach(function(h,v){var y=l(c,v),d=l(u,v);if(d!==void 0){a&&a.push(v);var m=s.applyMerges(h,y,d,i,a);m!==d&&(f=f||new Map,f.set(v,m)),a&&g(a.pop()===v)}}),f&&(n=Array.isArray(u)?u.slice(0):p({},u),f.forEach(function(h,v){n[v]=h}))}return e.info?this.cache.policies.runMergeFunction(t,n,e.info,i,a&&(o=i.store).getStorage.apply(o,a)):n},r}(),wn=[];function _n(r,e){var t=r.map;return t.has(e)||t.set(e,wn.pop()||{map:new Map}),t.get(e)}function Lt(r,e){if(r===e||!e||Ue(e))return r;if(!r||Ue(r))return e;var t=r.info&&e.info?p(p({},r.info),e.info):r.info||e.info,n=r.map.size&&e.map.size,i=n?new Map:r.map.size?r.map:e.map,a={info:t,map:i};if(n){var o=new Set(e.map.keys());r.map.forEach(function(s,c){a.map.set(c,Lt(s,e.map.get(c))),o.delete(c)}),o.forEach(function(s){a.map.set(s,Lt(e.map.get(s),r.map.get(s)))})}return a}function Ue(r){return!r||!(r.info||r.map.size)}function Sn(r,e){var t=r.map,n=t.get(e);n&&Ue(n)&&(wn.push(n),t.delete(e))}var On=new Set;function Aa(r,e,t,n){var i=function(l){var h=n.getFieldValue(l,t);return typeof h=="object"&&h},a=i(r);if(!!a){var o=i(e);if(!!o&&!D(a)&&!M(a,o)&&!Object.keys(a).every(function(l){return n.getFieldValue(o,l)!==void 0})){var s=n.getFieldValue(r,"__typename")||n.getFieldValue(e,"__typename"),c=$(t),u="".concat(s,".").concat(c);if(!On.has(u)){On.add(u);var f=[];!Array.isArray(a)&&!Array.isArray(o)&&[a,o].forEach(function(l){var h=n.getFieldValue(l,"__typename");typeof h=="string"&&!f.includes(h)&&f.push(h)}),__DEV__&&g.warn("Cache data may be lost when replacing the ".concat(c," field of a ").concat(s,` object.

To address this problem (which is not a bug in Apollo Client), `).concat(f.length?"either ensure all objects of type "+f.join(" and ")+" have an ID or a custom merge function, or ":"","define a custom merge function for the ").concat(u,` field, so InMemoryCache can safely merge these objects:

  existing: `).concat(JSON.stringify(a).slice(0,1e3),`
  incoming: `).concat(JSON.stringify(o).slice(0,1e3),`

For more information about these options, please refer to the documentation:

  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers
  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects
`))}}}}var ja=function(r){L(e,r);function e(t){t===void 0&&(t={});var n=r.call(this)||this;return n.watches=new Set,n.typenameDocumentCache=new Map,n.makeVar=Ra,n.txCount=0,n.config=wa(t),n.addTypename=!!n.config.addTypename,n.policies=new Pa({cache:n,dataIdFromObject:n.config.dataIdFromObject,possibleTypes:n.config.possibleTypes,typePolicies:n.config.typePolicies}),n.init(),n}return e.prototype.init=function(){var t=this.data=new Se.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=t.stump,this.resetResultCache()},e.prototype.resetResultCache=function(t){var n=this,i=this.storeReader;this.storeWriter=new Qa(this,this.storeReader=new Da({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:Zr(this.config),canon:t?void 0:i&&i.canon})),this.maybeBroadcastWatch=ze(function(a,o){return n.broadcastWatch(a,o)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(a){var o=a.optimistic?n.optimisticData:n.data;if(Oe(o)){var s=a.optimistic,c=a.rootId,u=a.variables;return o.makeCacheKey(a.query,a.callback,Z({optimistic:s,rootId:c,variables:u}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(a){return a.resetCaching()})},e.prototype.restore=function(t){return this.init(),t&&this.data.replace(t),this},e.prototype.extract=function(t){return t===void 0&&(t=!1),(t?this.optimisticData:this.data).extract()},e.prototype.read=function(t){var n=t.returnPartialData,i=n===void 0?!1:n;try{return this.storeReader.diffQueryAgainstStore(p(p({},t),{store:t.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:i})).result||null}catch(a){if(a instanceof Jr)return null;throw a}},e.prototype.write=function(t){try{return++this.txCount,this.storeWriter.writeToStore(this.data,t)}finally{!--this.txCount&&t.broadcast!==!1&&this.broadcastWatches()}},e.prototype.modify=function(t){if(P.call(t,"id")&&!t.id)return!1;var n=t.optimistic?this.optimisticData:this.data;try{return++this.txCount,n.modify(t.id||"ROOT_QUERY",t.fields)}finally{!--this.txCount&&t.broadcast!==!1&&this.broadcastWatches()}},e.prototype.diff=function(t){return this.storeReader.diffQueryAgainstStore(p(p({},t),{store:t.optimistic?this.optimisticData:this.data,rootId:t.id||"ROOT_QUERY",config:this.config}))},e.prototype.watch=function(t){var n=this;return this.watches.size||qa(this),this.watches.add(t),t.immediate&&this.maybeBroadcastWatch(t),function(){n.watches.delete(t)&&!n.watches.size&&un(n),n.maybeBroadcastWatch.forget(t)}},e.prototype.gc=function(t){Z.reset();var n=this.optimisticData.gc();return t&&!this.txCount&&(t.resetResultCache?this.resetResultCache(t.resetResultIdentities):t.resetResultIdentities&&this.storeReader.resetCanon()),n},e.prototype.retain=function(t,n){return(n?this.optimisticData:this.data).retain(t)},e.prototype.release=function(t,n){return(n?this.optimisticData:this.data).release(t)},e.prototype.identify=function(t){if(D(t))return t.__ref;try{return this.policies.identify(t)[0]}catch(n){__DEV__&&g.warn(n)}},e.prototype.evict=function(t){if(!t.id){if(P.call(t,"id"))return!1;t=p(p({},t),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(t,this.data)}finally{!--this.txCount&&t.broadcast!==!1&&this.broadcastWatches()}},e.prototype.reset=function(t){var n=this;return this.init(),Z.reset(),t&&t.discardWatches?(this.watches.forEach(function(i){return n.maybeBroadcastWatch.forget(i)}),this.watches.clear(),un(this)):this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(t){var n=this.optimisticData.removeLayer(t);n!==this.optimisticData&&(this.optimisticData=n,this.broadcastWatches())},e.prototype.batch=function(t){var n=this,i=t.update,a=t.optimistic,o=a===void 0?!0:a,s=t.removeOptimistic,c=t.onWatchUpdated,u,f=function(h){var v=n,y=v.data,d=v.optimisticData;++n.txCount,h&&(n.data=n.optimisticData=h);try{return u=i(n)}finally{--n.txCount,n.data=y,n.optimisticData=d}},l=new Set;return c&&!this.txCount&&this.broadcastWatches(p(p({},t),{onWatchUpdated:function(h){return l.add(h),!1}})),typeof o=="string"?this.optimisticData=this.optimisticData.addLayer(o,f):o===!1?f(this.data):f(),typeof s=="string"&&(this.optimisticData=this.optimisticData.removeLayer(s)),c&&l.size?(this.broadcastWatches(p(p({},t),{onWatchUpdated:function(h,v){var y=c.call(this,h,v);return y!==!1&&l.delete(h),y}})),l.size&&l.forEach(function(h){return n.maybeBroadcastWatch.dirty(h)})):this.broadcastWatches(t),u},e.prototype.performTransaction=function(t,n){return this.batch({update:t,optimistic:n||n!==null})},e.prototype.transformDocument=function(t){if(this.addTypename){var n=this.typenameDocumentCache.get(t);return n||(n=ot(t),this.typenameDocumentCache.set(t,n),this.typenameDocumentCache.set(n,n)),n}return t},e.prototype.broadcastWatches=function(t){var n=this;this.txCount||this.watches.forEach(function(i){return n.maybeBroadcastWatch(i,t)})},e.prototype.broadcastWatch=function(t,n){var i=t.lastDiff,a=this.diff(t);n&&(t.optimistic&&typeof n.optimistic=="string"&&(a.fromOptimisticTransaction=!0),n.onWatchUpdated&&n.onWatchUpdated.call(this,t,a,i)===!1)||(!i||!M(i.result,a.result))&&t.callback(t.lastDiff=a,i)},e}(ba);function Va(r){return r.hasOwnProperty("graphQLErrors")}var xa=function(r){var e="";if(X(r.graphQLErrors)||X(r.clientErrors)){var t=(r.graphQLErrors||[]).concat(r.clientErrors||[]);t.forEach(function(n){var i=n?n.message:"Error message not found.";e+="".concat(i,`
`)})}return r.networkError&&(e+="".concat(r.networkError.message,`
`)),e=e.replace(/\n$/,""),e},ue=function(r){L(e,r);function e(t){var n=t.graphQLErrors,i=t.clientErrors,a=t.networkError,o=t.errorMessage,s=t.extraInfo,c=r.call(this,o)||this;return c.graphQLErrors=n||[],c.clientErrors=i||[],c.networkError=a||null,c.message=o||xa(c),c.extraInfo=s,c.__proto__=e.prototype,c}return e}(Error),q;(function(r){r[r.loading=1]="loading",r[r.setVariables=2]="setVariables",r[r.fetchMore=3]="fetchMore",r[r.refetch=4]="refetch",r[r.poll=6]="poll",r[r.ready=7]="ready",r[r.error=8]="error"})(q||(q={}));function ke(r){return r?r<7:!1}var Ia=Object.assign,La=Object.hasOwnProperty,En=!1,Nt=function(r){L(e,r);function e(t){var n=t.queryManager,i=t.queryInfo,a=t.options,o=r.call(this,function(c){try{var u=c._subscription._observer;u&&!u.error&&(u.error=Na)}catch{}var f=!o.observers.size;o.observers.add(c);var l=o.last;return l&&l.error?c.error&&c.error(l.error):l&&l.result&&c.next&&c.next(l.result),f&&o.reobserve().catch(function(){}),function(){o.observers.delete(c)&&!o.observers.size&&o.tearDownQuery()}})||this;o.observers=new Set,o.subscriptions=new Set,o.isTornDown=!1,o.options=a,o.queryId=i.queryId||n.generateQueryId();var s=he(a.query);return o.queryName=s&&s.name&&s.name.value,o.initialFetchPolicy=a.fetchPolicy||"cache-first",o.queryManager=n,o.queryInfo=i,o}return Object.defineProperty(e.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),e.prototype.result=function(){var t=this;return new Promise(function(n,i){var a={next:function(s){n(s),t.observers.delete(a),t.observers.size||t.queryManager.removeQuery(t.queryId),setTimeout(function(){o.unsubscribe()},0)},error:i},o=t.subscribe(a)})},e.prototype.getCurrentResult=function(t){t===void 0&&(t=!0);var n=this.getLastResult(!0),i=this.queryInfo.networkStatus||n&&n.networkStatus||q.ready,a=p(p({},n),{loading:ke(i),networkStatus:i}),o=this.options.fetchPolicy,s=o===void 0?"cache-first":o;if(!(s==="network-only"||s==="no-cache"||s==="standby"||this.queryManager.transform(this.options.query).hasForcedResolvers)){var c=this.queryInfo.getDiff();(c.complete||this.options.returnPartialData)&&(a.data=c.result),M(a.data,{})&&(a.data=void 0),c.complete?(delete a.partial,c.complete&&a.networkStatus===q.loading&&(s==="cache-first"||s==="cache-only")&&(a.networkStatus=q.ready,a.loading=!1)):a.partial=!0,__DEV__&&!c.complete&&!this.options.partialRefetch&&!a.loading&&!a.data&&!a.error&&kn(c.missing)}return t&&this.updateLastResult(a),a},e.prototype.isDifferentFromLastResult=function(t){return!this.last||!M(this.last.result,t)},e.prototype.getLast=function(t,n){var i=this.last;if(i&&i[t]&&(!n||M(i.variables,this.variables)))return i[t]},e.prototype.getLastResult=function(t){return this.getLast("result",t)},e.prototype.getLastError=function(t){return this.getLast("error",t)},e.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},e.prototype.refetch=function(t){var n,i={pollInterval:0},a=this.options.fetchPolicy;if(a==="standby"||a==="cache-and-network"?i.fetchPolicy=a:a==="no-cache"?i.fetchPolicy="no-cache":i.fetchPolicy="network-only",__DEV__&&t&&La.call(t,"variables")){var o=sr(this.options.query),s=o.variableDefinitions;(!s||!s.some(function(c){return c.variable.name.value==="variables"}))&&__DEV__&&g.warn("Called refetch(".concat(JSON.stringify(t),") for query ").concat(((n=o.name)===null||n===void 0?void 0:n.value)||JSON.stringify(o),`, which does not declare a $variables variable.
Did you mean to call refetch(variables) instead of refetch({ variables })?`))}return t&&!M(this.options.variables,t)&&(i.variables=this.options.variables=p(p({},this.options.variables),t)),this.queryInfo.resetLastWrite(),this.reobserve(i,q.refetch)},e.prototype.fetchMore=function(t){var n=this,i=p(p({},t.query?t:p(p(p({},this.options),t),{variables:p(p({},this.options.variables),t.variables)})),{fetchPolicy:"no-cache"}),a=this.queryManager.generateQueryId();return i.notifyOnNetworkStatusChange&&(this.queryInfo.networkStatus=q.fetchMore,this.observe()),this.queryManager.fetchQuery(a,i,q.fetchMore).then(function(o){var s=o.data,c=t.updateQuery;return c?(__DEV__&&!En&&(__DEV__&&g.warn(`The updateQuery callback for fetchMore is deprecated, and will be removed
in the next major version of Apollo Client.

Please convert updateQuery functions to field policies with appropriate
read and merge functions, or use/adapt a helper function (such as
concatPagination, offsetLimitPagination, or relayStylePagination) from
@apollo/client/utilities.

The field policy system handles pagination more effectively than a
hand-written updateQuery function, and you only need to define the policy
once, rather than every time you call fetchMore.`),En=!0),n.updateQuery(function(u){return c(u,{fetchMoreResult:s,variables:i.variables})})):n.queryManager.cache.writeQuery({query:i.query,variables:i.variables,data:s}),o}).finally(function(){n.queryManager.stopQuery(a),n.reobserve()})},e.prototype.subscribeToMore=function(t){var n=this,i=this.queryManager.startGraphQLSubscription({query:t.document,variables:t.variables,context:t.context}).subscribe({next:function(a){var o=t.updateQuery;o&&n.updateQuery(function(s,c){var u=c.variables;return o(s,{subscriptionData:a,variables:u})})},error:function(a){if(t.onError){t.onError(a);return}__DEV__&&g.error("Unhandled GraphQL subscription error",a)}});return this.subscriptions.add(i),function(){n.subscriptions.delete(i)&&i.unsubscribe()}},e.prototype.setOptions=function(t){return this.reobserve(t)},e.prototype.setVariables=function(t){return M(this.variables,t)?this.observers.size?this.result():Promise.resolve():(this.options.variables=t,this.observers.size?this.reobserve({fetchPolicy:this.initialFetchPolicy,variables:t},q.setVariables):Promise.resolve())},e.prototype.updateQuery=function(t){var n=this.queryManager,i=n.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,a=t(i,{variables:this.variables});a&&(n.cache.writeQuery({query:this.options.query,data:a,variables:this.variables}),n.broadcastQueries())},e.prototype.startPolling=function(t){this.options.pollInterval=t,this.updatePolling()},e.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},e.prototype.fetch=function(t,n){return this.queryManager.setObservableQuery(this),this.queryManager.fetchQueryObservable(this.queryId,t,n)},e.prototype.updatePolling=function(){var t=this;if(!this.queryManager.ssrMode){var n=this,i=n.pollingInfo,a=n.options.pollInterval;if(!a){i&&(clearTimeout(i.timeout),delete this.pollingInfo);return}if(!(i&&i.interval===a)){__DEV__?g(a,"Attempted to start a polling query without a polling interval."):g(a,10);var o=i||(this.pollingInfo={});o.interval=a;var s=function(){t.pollingInfo&&(ke(t.queryInfo.networkStatus)?c():t.reobserve({fetchPolicy:"network-only"},q.poll).then(c,c))},c=function(){var u=t.pollingInfo;u&&(clearTimeout(u.timeout),u.timeout=setTimeout(s,u.interval))};c()}}},e.prototype.updateLastResult=function(t,n){return n===void 0&&(n=this.variables),this.last=p(p({},this.last),{result:this.queryManager.assumeImmutableResults?t:Or(t),variables:n}),X(t.errors)||delete this.last.error,this.last},e.prototype.reobserve=function(t,n){var i=this;this.isTornDown=!1;var a=n===q.refetch||n===q.fetchMore||n===q.poll,o=this.options.variables,s=a?me(this.options,t):Ia(this.options,me(t));a||(this.updatePolling(),t&&t.variables&&!t.fetchPolicy&&!M(t.variables,o)&&(s.fetchPolicy=this.initialFetchPolicy,n===void 0&&(n=q.setVariables)));var c=s.variables&&p({},s.variables),u=this.fetch(s,n),f={next:function(l){i.reportResult(l,c)},error:function(l){i.reportError(l,c)}};return a||(this.concast&&this.observer&&this.concast.removeObserver(this.observer,!0),this.concast=u,this.observer=f),u.addObserver(f),u.promise},e.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},e.prototype.reportResult=function(t,n){(this.getLastError()||this.isDifferentFromLastResult(t))&&(this.updateLastResult(t,n),de(this.observers,"next",t))},e.prototype.reportError=function(t,n){var i=p(p({},this.getLastResult()),{error:t,errors:t.graphQLErrors,networkStatus:q.error,loading:!1});this.updateLastResult(i,n),de(this.observers,"error",this.last.error=t)},e.prototype.hasObservers=function(){return this.observers.size>0},e.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(t){return t.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},e}(C);Er(Nt);function Na(r){__DEV__&&g.error("Unhandled error",r.message,r.stack)}function kn(r){__DEV__&&r&&__DEV__&&g.debug("Missing cache result fields: ".concat(JSON.stringify(r)),r)}function za(r){var e=r.fetchPolicy,t=e===void 0?"cache-first":e,n=r.nextFetchPolicy;n&&(r.fetchPolicy=typeof n=="function"?n.call(r,t):n)}var Dn=function(){function r(e){var t=e.cache,n=e.client,i=e.resolvers,a=e.fragmentMatcher;this.cache=t,n&&(this.client=n),i&&this.addResolvers(i),a&&this.setFragmentMatcher(a)}return r.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(n){t.resolvers=vr(t.resolvers,n)}):this.resolvers=vr(this.resolvers,e)},r.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},r.prototype.getResolvers=function(){return this.resolvers||{}},r.prototype.runResolvers=function(e){var t=e.document,n=e.remoteResult,i=e.context,a=e.variables,o=e.onlyRunForcedResolvers,s=o===void 0?!1:o;return K(this,void 0,void 0,function(){return H(this,function(c){return t?[2,this.resolveDocument(t,n.data,i,a,this.fragmentMatcher,s).then(function(u){return p(p({},n),{data:u.result})})]:[2,n]})})},r.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},r.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},r.prototype.clientQuery=function(e){return Xe(["client"],e)&&this.resolvers?e:null},r.prototype.serverQuery=function(e){return di(e)},r.prototype.prepareContext=function(e){var t=this.cache;return p(p({},e),{cache:t,getCacheKey:function(n){return t.identify(n)}})},r.prototype.addExportedVariables=function(e,t,n){return t===void 0&&(t={}),n===void 0&&(n={}),K(this,void 0,void 0,function(){return H(this,function(i){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(n),t).then(function(a){return p(p({},t),a.exportedVariables)})]:[2,p({},t)]})})},r.prototype.shouldForceResolvers=function(e){var t=!1;return x.visit(e,{Directive:{enter:function(n){if(n.name.value==="client"&&n.arguments&&(t=n.arguments.some(function(i){return i.name.value==="always"&&i.value.kind==="BooleanValue"&&i.value.value===!0}),t))return x.BREAK}}}),t},r.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:vi(e),variables:t,returnPartialData:!0,optimistic:!1}).result},r.prototype.resolveDocument=function(e,t,n,i,a,o){return n===void 0&&(n={}),i===void 0&&(i={}),a===void 0&&(a=function(){return!0}),o===void 0&&(o=!1),K(this,void 0,void 0,function(){var s,c,u,f,l,h,v,y,d;return H(this,function(m){return s=nt(e),c=Qe(e),u=Me(c),f=s.operation,l=f?f.charAt(0).toUpperCase()+f.slice(1):"Query",h=this,v=h.cache,y=h.client,d={fragmentMap:u,context:p(p({},n),{cache:v,client:y}),variables:i,fragmentMatcher:a,defaultOperationType:l,exportedVariables:{},onlyRunForcedResolvers:o},[2,this.resolveSelectionSet(s.selectionSet,t,d).then(function(b){return{result:b,exportedVariables:d.exportedVariables}})]})})},r.prototype.resolveSelectionSet=function(e,t,n){return K(this,void 0,void 0,function(){var i,a,o,s,c,u=this;return H(this,function(f){return i=n.fragmentMap,a=n.context,o=n.variables,s=[t],c=function(l){return K(u,void 0,void 0,function(){var h,v;return H(this,function(y){return Te(l,o)?W(l)?[2,this.resolveField(l,t,n).then(function(d){var m;typeof d!="undefined"&&s.push((m={},m[J(l)]=d,m))})]:(or(l)?h=l:(h=i[l.name.value],__DEV__?g(h,"No fragment named ".concat(l.name.value)):g(h,9)),h&&h.typeCondition&&(v=h.typeCondition.name.value,n.fragmentMatcher(t,v,a))?[2,this.resolveSelectionSet(h.selectionSet,t,n).then(function(d){s.push(d)})]:[2]):[2]})})},[2,Promise.all(e.selections.map(c)).then(function(){return dr(s)})]})})},r.prototype.resolveField=function(e,t,n){return K(this,void 0,void 0,function(){var i,a,o,s,c,u,f,l,h,v=this;return H(this,function(y){return i=n.variables,a=e.name.value,o=J(e),s=a!==o,c=t[o]||t[a],u=Promise.resolve(c),(!n.onlyRunForcedResolvers||this.shouldForceResolvers(e))&&(f=t.__typename||n.defaultOperationType,l=this.resolvers&&this.resolvers[f],l&&(h=l[s?a:o],h&&(u=Promise.resolve(Qt.withValue(this.cache,h,[t,Pe(e,i),n.context,{field:e,fragmentMap:n.fragmentMap}]))))),[2,u.then(function(d){if(d===void 0&&(d=c),e.directives&&e.directives.forEach(function(m){m.name.value==="export"&&m.arguments&&m.arguments.forEach(function(b){b.name.value==="as"&&b.value.kind==="StringValue"&&(n.exportedVariables[b.value.value]=d)})}),!e.selectionSet||d==null)return d;if(Array.isArray(d))return v.resolveSubSelectedArray(e,d,n);if(e.selectionSet)return v.resolveSelectionSet(e.selectionSet,d,n)})]})})},r.prototype.resolveSubSelectedArray=function(e,t,n){var i=this;return Promise.all(t.map(function(a){if(a===null)return null;if(Array.isArray(a))return i.resolveSubSelectedArray(e,a,n);if(e.selectionSet)return i.resolveSelectionSet(e.selectionSet,a,n)}))},r}(),ce=new(Y?WeakMap:Map);function zt(r,e){var t=r[e];typeof t=="function"&&(r[e]=function(){return ce.set(r,(ce.get(r)+1)%1e15),t.apply(this,arguments)})}function Fn(r){r.notifyTimeout&&(clearTimeout(r.notifyTimeout),r.notifyTimeout=void 0)}var Wt=function(){function r(e,t){t===void 0&&(t=e.generateQueryId()),this.queryId=t,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var n=this.cache=e.cache;ce.has(n)||(ce.set(n,0),zt(n,"evict"),zt(n,"modify"),zt(n,"reset"))}return r.prototype.init=function(e){var t=e.networkStatus||q.loading;return this.variables&&this.networkStatus!==q.loading&&!M(this.variables,e.variables)&&(t=q.setVariables),M(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},r.prototype.reset=function(){Fn(this),this.lastDiff=void 0,this.dirty=!1},r.prototype.getDiff=function(e){e===void 0&&(e=this.variables);var t=this.getDiffOptions(e);if(this.lastDiff&&M(t,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=e);var n=this.observableQuery;if(n&&n.options.fetchPolicy==="no-cache")return{complete:!1};var i=this.cache.diff(t);return this.updateLastDiff(i,t),i},r.prototype.updateLastDiff=function(e,t){this.lastDiff=e?{diff:e,options:t||this.getDiffOptions()}:void 0},r.prototype.getDiffOptions=function(e){var t;return e===void 0&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:(t=this.observableQuery)===null||t===void 0?void 0:t.options.canonizeResults}},r.prototype.setDiff=function(e){var t=this,n=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(e),!this.dirty&&!M(n&&n.result,e&&e.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return t.notify()},0)))},r.prototype.setObservableQuery=function(e){var t=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){t.getDiff().fromOptimisticTransaction?e.observe():e.reobserve()})):delete this.oqListener)},r.prototype.notify=function(){var e=this;Fn(this),this.shouldNotify()&&this.listeners.forEach(function(t){return t(e)}),this.dirty=!1},r.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(ke(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if(e!=="cache-only"&&e!=="cache-and-network")return!1}return!0},r.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=r.prototype.cancel,this.subscriptions.forEach(function(t){return t.unsubscribe()});var e=this.observableQuery;e&&e.stopPolling()}},r.prototype.cancel=function(){},r.prototype.updateWatch=function(e){var t=this;e===void 0&&(e=this.variables);var n=this.observableQuery;if(!(n&&n.options.fetchPolicy==="no-cache")){var i=p(p({},this.getDiffOptions(e)),{watcher:this,callback:function(a){return t.setDiff(a)}});(!this.lastWatch||!M(i,this.lastWatch))&&(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=i))}},r.prototype.resetLastWrite=function(){this.lastWrite=void 0},r.prototype.shouldWrite=function(e,t){var n=this.lastWrite;return!(n&&n.dmCount===ce.get(this.cache)&&M(t,n.variables)&&M(e.data,n.result.data))},r.prototype.markResult=function(e,t,n){var i=this;this.graphQLErrors=X(e.errors)?e.errors:[],this.reset(),t.fetchPolicy==="no-cache"?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(t.variables)):n!==0&&(Ut(e,t.errorPolicy)?this.cache.performTransaction(function(a){if(i.shouldWrite(e,t.variables))a.writeQuery({query:i.document,data:e.data,variables:t.variables,overwrite:n===1}),i.lastWrite={result:e,variables:t.variables,dmCount:ce.get(i.cache)};else if(i.lastDiff&&i.lastDiff.diff.complete){e.data=i.lastDiff.diff.result;return}var o=i.getDiffOptions(t.variables),s=a.diff(o);i.stopped||i.updateWatch(t.variables),i.updateLastDiff(s,o),s.complete&&(e.data=s.result)}):this.lastWrite=void 0)},r.prototype.markReady=function(){return this.networkError=null,this.networkStatus=q.ready},r.prototype.markError=function(e){return this.networkStatus=q.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},r}();function Ut(r,e){e===void 0&&(e="none");var t=e==="ignore"||e==="all",n=!Ve(r);return!n&&t&&r.data&&(n=!0),n}var Wa=Object.prototype.hasOwnProperty,Ua=function(){function r(e){var t=e.cache,n=e.link,i=e.queryDeduplication,a=i===void 0?!1:i,o=e.onBroadcast,s=e.ssrMode,c=s===void 0?!1:s,u=e.clientAwareness,f=u===void 0?{}:u,l=e.localState,h=e.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(Y?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=t,this.link=n,this.queryDeduplication=a,this.clientAwareness=f,this.localState=l||new Dn({cache:t}),this.ssrMode=c,this.assumeImmutableResults=!!h,(this.onBroadcast=o)&&(this.mutationStore=Object.create(null))}return r.prototype.stop=function(){var e=this;this.queries.forEach(function(t,n){e.stopQueryNoBroadcast(n)}),this.cancelPendingFetches(__DEV__?new F("QueryManager stopped while query was in flight"):new F(11))},r.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach(function(t){return t(e)}),this.fetchCancelFns.clear()},r.prototype.mutate=function(e){var t=e.mutation,n=e.variables,i=e.optimisticResponse,a=e.updateQueries,o=e.refetchQueries,s=o===void 0?[]:o,c=e.awaitRefetchQueries,u=c===void 0?!1:c,f=e.update,l=e.onQueryUpdated,h=e.errorPolicy,v=h===void 0?"none":h,y=e.fetchPolicy,d=y===void 0?"network-only":y,m=e.keepRootFields,b=e.context;return K(this,void 0,void 0,function(){var S,_,w;return H(this,function(O){switch(O.label){case 0:return __DEV__?g(t,"mutation option is required. You must specify your GraphQL document in the mutation option."):g(t,12),__DEV__?g(d==="network-only"||d==="no-cache","Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):g(d==="network-only"||d==="no-cache",13),S=this.generateMutationId(),t=this.transform(t).document,n=this.getVariables(t,n),this.transform(t).hasClientExports?[4,this.localState.addExportedVariables(t,n,b)]:[3,2];case 1:n=O.sent(),O.label=2;case 2:return _=this.mutationStore&&(this.mutationStore[S]={mutation:t,variables:n,loading:!0,error:null}),i&&this.markMutationOptimistic(i,{mutationId:S,document:t,variables:n,fetchPolicy:d,errorPolicy:v,context:b,updateQueries:a,update:f,keepRootFields:m}),this.broadcastQueries(),w=this,[2,new Promise(function(R,E){return yt(w.getObservableFromLink(t,p(p({},b),{optimisticResponse:i}),n,!1),function(k){if(Ve(k)&&v==="none")throw new ue({graphQLErrors:k.errors});_&&(_.loading=!1,_.error=null);var A=p({},k);return typeof s=="function"&&(s=s(A)),v==="ignore"&&Ve(A)&&delete A.errors,w.markMutationResult({mutationId:S,result:A,document:t,variables:n,fetchPolicy:d,errorPolicy:v,context:b,update:f,updateQueries:a,awaitRefetchQueries:u,refetchQueries:s,removeOptimistic:i?S:void 0,onQueryUpdated:l,keepRootFields:m})}).subscribe({next:function(k){w.broadcastQueries(),R(k)},error:function(k){_&&(_.loading=!1,_.error=k),i&&w.cache.removeOptimistic(S),w.broadcastQueries(),E(k instanceof ue?k:new ue({networkError:k}))}})})]}})})},r.prototype.markMutationResult=function(e,t){var n=this;t===void 0&&(t=this.cache);var i=e.result,a=[],o=e.fetchPolicy==="no-cache";if(!o&&Ut(i,e.errorPolicy)){a.push({result:i.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables});var s=e.updateQueries;s&&this.queries.forEach(function(u,f){var l=u.observableQuery,h=l&&l.queryName;if(!(!h||!Wa.call(s,h))){var v=s[h],y=n.queries.get(f),d=y.document,m=y.variables,b=t.diff({query:d,variables:m,returnPartialData:!0,optimistic:!1}),S=b.result,_=b.complete;if(_&&S){var w=v(S,{mutationResult:i,queryName:d&&rt(d)||void 0,queryVariables:m});w&&a.push({result:w,dataId:"ROOT_QUERY",query:d,variables:m})}}})}if(a.length>0||e.refetchQueries||e.update||e.onQueryUpdated||e.removeOptimistic){var c=[];if(this.refetchQueries({updateCache:function(u){o||a.forEach(function(h){return u.write(h)});var f=e.update;if(f){if(!o){var l=u.diff({id:"ROOT_MUTATION",query:n.transform(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});l.complete&&(i=p(p({},i),{data:l.result}))}f(u,i,{context:e.context,variables:e.variables})}!o&&!e.keepRootFields&&u.modify({id:"ROOT_MUTATION",fields:function(h,v){var y=v.fieldName,d=v.DELETE;return y==="__typename"?h:d}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach(function(u){return c.push(u)}),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(c).then(function(){return i})}return Promise.resolve(i)},r.prototype.markMutationOptimistic=function(e,t){var n=this,i=typeof e=="function"?e(t.variables):e;return this.cache.recordOptimisticTransaction(function(a){try{n.markMutationResult(p(p({},t),{result:{data:i}}),a)}catch(o){__DEV__&&g.error(o)}},t.mutationId)},r.prototype.fetchQuery=function(e,t,n){return this.fetchQueryObservable(e,t,n).promise},r.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach(function(t,n){e[n]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}}),e},r.prototype.resetErrors=function(e){var t=this.queries.get(e);t&&(t.networkError=void 0,t.graphQLErrors=[])},r.prototype.transform=function(e){var t=this.transformCache;if(!t.has(e)){var n=this.cache.transformDocument(e),i=fi(this.cache.transformForLink(n)),a=this.localState.clientQuery(n),o=i&&this.localState.serverQuery(i),s={document:n,hasClientExports:Bn(n),hasForcedResolvers:this.localState.shouldForceResolvers(n),clientQuery:a,serverQuery:o,defaultVars:it(he(n)),asQuery:p(p({},n),{definitions:n.definitions.map(function(u){return u.kind==="OperationDefinition"&&u.operation!=="query"?p(p({},u),{operation:"query"}):u})})},c=function(u){u&&!t.has(u)&&t.set(u,s)};c(e),c(n),c(a),c(o)}return t.get(e)},r.prototype.getVariables=function(e,t){return p(p({},this.transform(e).defaultVars),t)},r.prototype.watchQuery=function(e){e=p(p({},e),{variables:this.getVariables(e.query,e.variables)}),typeof e.notifyOnNetworkStatusChange=="undefined"&&(e.notifyOnNetworkStatusChange=!1);var t=new Wt(this),n=new Nt({queryManager:this,queryInfo:t,options:e});return this.queries.set(n.queryId,t),t.init({document:e.query,observableQuery:n,variables:e.variables}),n},r.prototype.query=function(e,t){var n=this;return t===void 0&&(t=this.generateQueryId()),__DEV__?g(e.query,"query option is required. You must specify your GraphQL document in the query option."):g(e.query,14),__DEV__?g(e.query.kind==="Document",'You must wrap the query string in a "gql" tag.'):g(e.query.kind==="Document",15),__DEV__?g(!e.returnPartialData,"returnPartialData option only supported on watchQuery."):g(!e.returnPartialData,16),__DEV__?g(!e.pollInterval,"pollInterval option only supported on watchQuery."):g(!e.pollInterval,17),this.fetchQuery(t,e).finally(function(){return n.stopQuery(t)})},r.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},r.prototype.generateRequestId=function(){return this.requestIdCounter++},r.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},r.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},r.prototype.stopQueryInStoreNoBroadcast=function(e){var t=this.queries.get(e);t&&t.stop()},r.prototype.clearStore=function(e){return e===void 0&&(e={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new F("Store reset while query was in flight (not completed in link chain)"):new F(18)),this.queries.forEach(function(t){t.observableQuery?t.networkStatus=q.loading:t.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},r.prototype.getObservableQueries=function(e){var t=this;e===void 0&&(e="active");var n=new Map,i=new Map,a=new Set;return Array.isArray(e)&&e.forEach(function(o){typeof o=="string"?i.set(o,!1):Hn(o)?i.set(t.transform(o).document,!1):T(o)&&o.query&&a.add(o)}),this.queries.forEach(function(o,s){var c=o.observableQuery,u=o.document;if(c){if(e==="all"){n.set(s,c);return}var f=c.queryName,l=c.options.fetchPolicy;if(l==="standby"||e==="active"&&!c.hasObservers())return;(e==="active"||f&&i.has(f)||u&&i.has(u))&&(n.set(s,c),f&&i.set(f,!0),u&&i.set(u,!0))}}),a.size&&a.forEach(function(o){var s=mt("legacyOneTimeQuery"),c=t.getQuery(s).init({document:o.query,variables:o.variables}),u=new Nt({queryManager:t,queryInfo:c,options:p(p({},o),{fetchPolicy:"network-only"})});g(u.queryId===s),c.setObservableQuery(u),n.set(s,u)}),__DEV__&&i.size&&i.forEach(function(o,s){o||__DEV__&&g.warn("Unknown query ".concat(typeof s=="string"?"named ":"").concat(JSON.stringify(s,null,2)," requested in refetchQueries options.include array"))}),n},r.prototype.reFetchObservableQueries=function(e){var t=this;e===void 0&&(e=!1);var n=[];return this.getObservableQueries(e?"all":"active").forEach(function(i,a){var o=i.options.fetchPolicy;i.resetLastResults(),(e||o!=="standby"&&o!=="cache-only")&&n.push(i.refetch()),t.getQuery(a).setDiff(null)}),this.broadcastQueries(),Promise.all(n)},r.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},r.prototype.startGraphQLSubscription=function(e){var t=this,n=e.query,i=e.fetchPolicy,a=e.errorPolicy,o=e.variables,s=e.context,c=s===void 0?{}:s;n=this.transform(n).document,o=this.getVariables(n,o);var u=function(l){return t.getObservableFromLink(n,c,l).map(function(h){if(i!=="no-cache"&&(Ut(h,a)&&t.cache.write({query:n,result:h.data,dataId:"ROOT_SUBSCRIPTION",variables:l}),t.broadcastQueries()),Ve(h))throw new ue({graphQLErrors:h.errors});return h})};if(this.transform(n).hasClientExports){var f=this.localState.addExportedVariables(n,o,c).then(u);return new C(function(l){var h=null;return f.then(function(v){return h=v.subscribe(l)},l.error),function(){return h&&h.unsubscribe()}})}return u(o)},r.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},r.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},r.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.getQuery(e).stop(),this.queries.delete(e)},r.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(e){return e.notify()})},r.prototype.getLocalState=function(){return this.localState},r.prototype.getObservableFromLink=function(e,t,n,i){var a=this,o;i===void 0&&(i=(o=t==null?void 0:t.queryDeduplication)!==null&&o!==void 0?o:this.queryDeduplication);var s,c=this.transform(e).serverQuery;if(c){var u=this,f=u.inFlightLinkObservables,l=u.link,h={query:c,variables:n,operationName:rt(c)||void 0,context:this.prepareContext(p(p({},t),{forceFetch:!i}))};if(t=h.context,i){var v=f.get(c)||new Map;f.set(c,v);var y=Z(n);if(s=v.get(y),!s){var d=new ye([gt(l,h)]);v.set(y,s=d),d.cleanup(function(){v.delete(y)&&v.size<1&&f.delete(c)})}}else s=new ye([gt(l,h)])}else s=new ye([C.of({data:{}})]),t=this.prepareContext(t);var m=this.transform(e).clientQuery;return m&&(s=yt(s,function(b){return a.localState.runResolvers({document:m,remoteResult:b,context:t,variables:n})})),s},r.prototype.getResultsFromLink=function(e,t,n){var i=e.lastRequestId=this.generateRequestId();return yt(this.getObservableFromLink(e.document,n.context,n.variables),function(a){var o=X(a.errors);if(i>=e.lastRequestId){if(o&&n.errorPolicy==="none")throw e.markError(new ue({graphQLErrors:a.errors}));e.markResult(a,n,t),e.markReady()}var s={data:a.data,loading:!1,networkStatus:e.networkStatus||q.ready};return o&&n.errorPolicy!=="ignore"&&(s.errors=a.errors),s},function(a){var o=Va(a)?a:new ue({networkError:a});throw i>=e.lastRequestId&&e.markError(o),o})},r.prototype.fetchQueryObservable=function(e,t,n){var i=this;n===void 0&&(n=q.loading);var a=this.transform(t.query).document,o=this.getVariables(a,t.variables),s=this.getQuery(e),c=t.fetchPolicy,u=c===void 0?"cache-first":c,f=t.errorPolicy,l=f===void 0?"none":f,h=t.returnPartialData,v=h===void 0?!1:h,y=t.notifyOnNetworkStatusChange,d=y===void 0?!1:y,m=t.context,b=m===void 0?{}:m,S=Object.assign({},t,{query:a,variables:o,fetchPolicy:u,errorPolicy:l,returnPartialData:v,notifyOnNetworkStatusChange:d,context:b}),_=function(O){return S.variables=O,i.fetchQueryByPolicy(s,S,n)};this.fetchCancelFns.set(e,function(O){setTimeout(function(){return w.cancel(O)})});var w=new ye(this.transform(S.query).hasClientExports?this.localState.addExportedVariables(S.query,S.variables,S.context).then(_):_(S.variables));return w.cleanup(function(){i.fetchCancelFns.delete(e),za(t)}),w},r.prototype.refetchQueries=function(e){var t=this,n=e.updateCache,i=e.include,a=e.optimistic,o=a===void 0?!1:a,s=e.removeOptimistic,c=s===void 0?o?mt("refetchQueries"):void 0:s,u=e.onQueryUpdated,f=new Map;i&&this.getObservableQueries(i).forEach(function(h,v){f.set(v,{oq:h,lastDiff:t.getQuery(v).getDiff()})});var l=new Map;return n&&this.cache.batch({update:n,optimistic:o&&c||!1,removeOptimistic:c,onWatchUpdated:function(h,v,y){var d=h.watcher instanceof Wt&&h.watcher.observableQuery;if(d){if(u){f.delete(d.queryId);var m=u(d,v,y);return m===!0&&(m=d.refetch()),m!==!1&&l.set(d,m),m}u!==null&&f.set(d.queryId,{oq:d,lastDiff:y,diff:v})}}}),f.size&&f.forEach(function(h,v){var y=h.oq,d=h.lastDiff,m=h.diff,b;if(u){if(!m){var S=y.queryInfo;S.reset(),m=S.getDiff()}b=u(y,m,d)}(!u||b===!0)&&(b=y.refetch()),b!==!1&&l.set(y,b),v.indexOf("legacyOneTimeQuery")>=0&&t.stopQueryNoBroadcast(v)}),c&&this.cache.removeOptimistic(c),l},r.prototype.fetchQueryByPolicy=function(e,t,n){var i=this,a=t.query,o=t.variables,s=t.fetchPolicy,c=t.refetchWritePolicy,u=t.errorPolicy,f=t.returnPartialData,l=t.context,h=t.notifyOnNetworkStatusChange,v=e.networkStatus;e.init({document:a,variables:o,networkStatus:n});var y=function(){return e.getDiff(o)},d=function(w,O){O===void 0&&(O=e.networkStatus||q.loading);var R=w.result;__DEV__&&!f&&!M(R,{})&&kn(w.missing);var E=function(k){return C.of(p({data:k,loading:ke(O),networkStatus:O},w.complete?null:{partial:!0}))};return R&&i.transform(a).hasForcedResolvers?i.localState.runResolvers({document:a,remoteResult:{data:R},context:l,variables:o,onlyRunForcedResolvers:!0}).then(function(k){return E(k.data||void 0)}):E(R)},m=s==="no-cache"?0:n===q.refetch&&c!=="merge"?1:2,b=function(){return i.getResultsFromLink(e,m,{variables:o,context:l,fetchPolicy:s,errorPolicy:u})},S=h&&typeof v=="number"&&v!==n&&ke(n);switch(s){default:case"cache-first":{var _=y();return _.complete?[d(_,e.markReady())]:f||S?[d(_),b()]:[b()]}case"cache-and-network":{var _=y();return _.complete||f||S?[d(_),b()]:[b()]}case"cache-only":return[d(y(),e.markReady())];case"network-only":return S?[d(y()),b()]:[b()];case"no-cache":return S?[d(e.getDiff()),b()]:[b()];case"standby":return[]}},r.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new Wt(this,e)),this.queries.get(e)},r.prototype.prepareContext=function(e){e===void 0&&(e={});var t=this.localState.prepareContext(e);return p(p({},t),{clientAwareness:this.clientAwareness})},r}(),Cn=!1;function Bt(r,e){return me(r,e,e.variables&&{variables:p(p({},r.variables),e.variables)})}var Ba=function(){function r(e){var t=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var n=e.uri,i=e.credentials,a=e.headers,o=e.cache,s=e.ssrMode,c=s===void 0?!1:s,u=e.ssrForceFetchDelay,f=u===void 0?0:u,l=e.connectToDevTools,h=l===void 0?typeof window=="object"&&!window.__APOLLO_CLIENT__&&__DEV__:l,v=e.queryDeduplication,y=v===void 0?!0:v,d=e.defaultOptions,m=e.assumeImmutableResults,b=m===void 0?!1:m,S=e.resolvers,_=e.typeDefs,w=e.fragmentMatcher,O=e.name,R=e.version,E=e.link;if(E||(E=n?new Ji({uri:n,credentials:i,headers:a}):be.empty()),!o)throw __DEV__?new F(`To initialize Apollo Client, you must specify a 'cache' property in the options object. 
For more information, please visit: https://go.apollo.dev/c/docs`):new F(7);if(this.link=E,this.cache=o,this.disableNetworkFetches=c||f>0,this.queryDeduplication=y,this.defaultOptions=d||{},this.typeDefs=_,f&&setTimeout(function(){return t.disableNetworkFetches=!1},f),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),h&&typeof window=="object"&&(window.__APOLLO_CLIENT__=this),!Cn&&__DEV__&&(Cn=!0,typeof window!="undefined"&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var k=window.navigator,A=k&&k.userAgent,I=void 0;typeof A=="string"&&(A.indexOf("Chrome/")>-1?I="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":A.indexOf("Firefox/")>-1&&(I="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),I&&__DEV__&&g.log("Download the Apollo DevTools for a better development experience: "+I)}this.version=ji,this.localState=new Dn({cache:o,client:this,resolvers:S,fragmentMatcher:w}),this.queryManager=new Ua({cache:this.cache,link:this.link,queryDeduplication:y,ssrMode:c,clientAwareness:{name:O,version:R},localState:this.localState,assumeImmutableResults:b,onBroadcast:h?function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.getQueryStore(),mutations:t.queryManager.mutationStore||{}},dataWithOptimisticResults:t.cache.extract(!0)})}:void 0})}return r.prototype.stop=function(){this.queryManager.stop()},r.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=Bt(this.defaultOptions.watchQuery,e)),this.disableNetworkFetches&&(e.fetchPolicy==="network-only"||e.fetchPolicy==="cache-and-network")&&(e=p(p({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},r.prototype.query=function(e){return this.defaultOptions.query&&(e=Bt(this.defaultOptions.query,e)),__DEV__?g(e.fetchPolicy!=="cache-and-network","The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):g(e.fetchPolicy!=="cache-and-network",8),this.disableNetworkFetches&&e.fetchPolicy==="network-only"&&(e=p(p({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},r.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=Bt(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},r.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},r.prototype.readQuery=function(e,t){return t===void 0&&(t=!1),this.cache.readQuery(e,t)},r.prototype.readFragment=function(e,t){return t===void 0&&(t=!1),this.cache.readFragment(e,t)},r.prototype.writeQuery=function(e){this.cache.writeQuery(e),this.queryManager.broadcastQueries()},r.prototype.writeFragment=function(e){this.cache.writeFragment(e),this.queryManager.broadcastQueries()},r.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},r.prototype.__requestRaw=function(e){return gt(this.link,e)},r.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(t){return t()}))}).then(function(){return e.reFetchObservableQueries()})},r.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(t){return t()}))})},r.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter(function(n){return n!==e})}},r.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter(function(n){return n!==e})}},r.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},r.prototype.refetchQueries=function(e){var t=this.queryManager.refetchQueries(e),n=[],i=[];t.forEach(function(o,s){n.push(s),i.push(o)});var a=Promise.all(i);return a.queries=n,a.results=i,a.catch(function(o){__DEV__&&g.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(o))}),a},r.prototype.getObservableQueries=function(e){return e===void 0&&(e="active"),this.queryManager.getObservableQueries(e)},r.prototype.extract=function(e){return this.cache.extract(e)},r.prototype.restore=function(e){return this.cache.restore(e)},r.prototype.addResolvers=function(e){this.localState.addResolvers(e)},r.prototype.setResolvers=function(e){this.localState.setResolvers(e)},r.prototype.getResolvers=function(){return this.localState.getResolvers()},r.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},r.prototype.setLink=function(e){this.link=this.queryManager.link=e},r}(),Be=new Map,$t=new Map,qn=!0,$e=!1;function Rn(r){return r.replace(/[\s,]+/g," ").trim()}function $a(r){return Rn(r.source.body.substring(r.start,r.end))}function Ga(r){var e=new Set,t=[];return r.definitions.forEach(function(n){if(n.kind==="FragmentDefinition"){var i=n.name.value,a=$a(n.loc),o=$t.get(i);o&&!o.has(a)?qn&&console.warn("Warning: fragment with name "+i+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):o||$t.set(i,o=new Set),o.add(a),e.has(a)||(e.add(a),t.push(n))}else t.push(n)}),p(p({},r),{definitions:t})}function Ka(r){var e=new Set(r.definitions);e.forEach(function(n){n.loc&&delete n.loc,Object.keys(n).forEach(function(i){var a=n[i];a&&typeof a=="object"&&e.add(a)})});var t=r.loc;return t&&(delete t.startToken,delete t.endToken),r}function Ha(r){var e=Rn(r);if(!Be.has(e)){var t=x.parse(r,{experimentalFragmentVariables:$e,allowLegacyFragmentVariables:$e});if(!t||t.kind!=="Document")throw new Error("Not a valid GraphQL document.");Be.set(e,Ka(Ga(t)))}return Be.get(e)}function N(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];typeof r=="string"&&(r=[r]);var n=r[0];return e.forEach(function(i,a){i&&i.kind==="Document"?n+=i.loc.source.body:n+=i,n+=r[a+1]}),Ha(n)}function Ja(){Be.clear(),$t.clear()}function Ya(){qn=!1}function Xa(){$e=!0}function Za(){$e=!1}var De={gql:N,resetCaches:Ja,disableFragmentWarnings:Ya,enableExperimentalFragmentVariables:Xa,disableExperimentalFragmentVariables:Za};(function(r){r.gql=De.gql,r.resetCaches=De.resetCaches,r.disableFragmentWarnings=De.disableFragmentWarnings,r.enableExperimentalFragmentVariables=De.enableExperimentalFragmentVariables,r.disableExperimentalFragmentVariables=De.disableExperimentalFragmentVariables})(N||(N={}));N.default=N;const eo=`
    query products(
        $first: Int,
        $query: String
    ) {
        products(first: $first, query: $query) {
          edges {
              node {
                  images(first: 1) {
                    edges {
                      node {
                        src
                        originalSrc
                        id
                        height
                        width
                        altText
                      }
                    }
                  }
                  variants(first:20){
                    edges{
                      node{
                        id
                        title
                        weight
                        availableForSale
                        sku
                        priceV2{
                          amount
                          currencyCode
                        }
                        compareAtPriceV2{
                          amount
                          currencyCode
                        }
                        image{
                          id
                          altText
                          originalSrc
                          transformedSrc
                        }
                        selectedOptions{
                          name
                          value
                        }
                        product{
                          id
                          title
                          availableForSale
                          handle
                          description
                          descriptionHtml
                          images(first:20){
                            edges{
                              node{
                                id
                                altText
                                originalSrc
                                transformedSrc
                              }
                            }
                          }
                          productType
                          options{
                            id
                            name
                            values
                          }
                        }
                      }
                    }
                  }
                  options {
                    id
                    name
                    values
                  }
                  tags
                  productType
                  title
                  vendor
                  publishedAt
                  createdAt
                  updatedAt
                  publishedAt
                  id
                  description
                  descriptionHtml
                  handle
              }
          }
        } 
    }
`;async function to(r,e,t){var o;const n={query:e.term,first:(o=e.perPage)!=null?o:5},{products:i}=r.extendQuery(t,{products:{query:eo,variables:n}}),a=await r.client.apolloClient.query({query:N(i.query),variables:i.variables});return a!=null?a:null}const ro=N`
    mutation customerRecover($email: String!) {
      customerRecover(email: $email) {
        customerUserErrors {
          code
          field
          message
        }
      }
    }
`;async function no(r,e){const t={email:e.email};return await r.client.apolloClient.mutate({mutation:ro,variables:t})}const io=N`
    mutation customerCreate($input: CustomerCreateInput!) {
        customerCreate(input: $input) {
            customer {
              id
            }
            customerUserErrors {
              code
              field
              message
            }
          }
    }
`;async function ao(r,e){const t={input:e};return await r.client.apolloClient.mutate({mutation:io,variables:t})}const oo=`
query filters($handle: String!) {
    collectionByHandle(handle: $handle) {
      handle
      products {
        filters {
          id
          label
          type
          values {
            id
            label
            count
            input
          }
        }
      }
    }
}
`;async function so(r,e,t){const n={handle:e.handle},i=r.extendQuery(t,{filters:{query:oo,variables:n}}),a=await r.client.apolloClient.query({query:N(i.query),variables:i.variables});return a!=null?a:null}const uo=`
query collection($handle: String, $first: Int, $filters: [ProductFilter!]) {
  collection(handle: $handle) {
    id
    handle
    title
    description
    descriptionHtml
    updatedAt
    image {
      src
      url
    }
    products(filters: $filters, first: $first) {
      edges {
        node {
          images(first: 1) {
            edges {
              node {
                src
                originalSrc
                id
                height
                width
                altText
              }
            }
          }
          variants(first: 1) {
            edges {
              node {
                price
                availableForSale
                compareAtPrice
              }
            }
          }
          options {
            id
            name
            values
          }
          tags
          productType
          title
          vendor
          publishedAt
          createdAt
          updatedAt
          publishedAt
          id
          description
          descriptionHtml
          handle
        }
      }
    }
  }
}
`,co=["min","max"];function fo(r){const e={};for(const t of Object.keys(r))co.includes(t)&&(e.price=e.price?Zt(Xt({},e.price),{[t]:parseFloat(r[t])}):{[t]:parseFloat(r[t])});return e}async function lo(r,e,t){var o;const n={handle:e.categorySlug,first:(o=e.perPage)!=null?o:5,filters:fo(e.filters)},{collection:i}=r.extendQuery(t,{collection:{query:uo,variables:n}}),a=await r.client.apolloClient.query({query:N(i.query),variables:i.variables});return a!=null?a:null}const ho={searchProduct:to,customerRecover:no,customerCreate:ao,availableFilters:so,getCollection:lo};function po(){return ho}function vo(r){return new Ba({uri:`https://${r.api.domain}/api/2022-01/graphql.json`,ssrMode:!0,cache:new ja,headers:{"X-Shopify-Storefront-Access-Token":r.api.storefrontAccessToken}})}exports.createShopifyApollo=vo;exports.getShopifyApolloAPIs=po;
